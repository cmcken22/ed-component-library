import{j as G}from"./jsx-runtime-Du8NFWEI.js";import{R as z,r as B}from"./index-Dl6G-zuu.js";import{w as _e,B as Be,I as Ee,a as se}from"./withBaseInput-BsgnoZo0.js";import{a as Oe,I as Fe}from"./Icon.types-ZLDmiTIS.js";import{s as je}from"./styled-BHqtc5H1.js";import{T as qe}from"./TextField-BvZ0tNBD.js";function ge(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r}var ee;(function(e){e.event="event",e.props="prop"})(ee||(ee={}));function U(){}function Le(e){var a,r=void 0;return function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return a&&n.length===a.length&&n.every(function(i,l){return i===a[l]})||(a=n,r=e.apply(void 0,n)),r}}function ae(e){return!!(e||"").match(/\d/)}function J(e){return e==null}function ke(e){return typeof e=="number"&&isNaN(e)}function he(e){return J(e)||ke(e)||typeof e=="number"&&!isFinite(e)}function pe(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Me(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function Pe(e,a,r){var n=Me(r),t=e.search(/[1-9]/);return t=t===-1?e.length:t,e.substring(0,t)+e.substring(t,e.length).replace(n,"$1"+a)}function Ke(e){var a=B.useRef(e);a.current=e;var r=B.useRef(function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return a.current.apply(a,n)});return r.current}function le(e,a){a===void 0&&(a=!0);var r=e[0]==="-",n=r&&a;e=e.replace("-","");var t=e.split("."),i=t[0],l=t[1]||"";return{beforeDecimal:i,afterDecimal:l,hasNegation:r,addNegation:n}}function We(e){if(!e)return e;var a=e[0]==="-";a&&(e=e.substring(1,e.length));var r=e.split("."),n=r[0].replace(/^0+/,"")||"0",t=r[1]||"";return(a?"-":"")+n+(t?"."+t:"")}function xe(e,a,r){for(var n="",t=r?"0":"",i=0;i<=a-1;i++)n+=e[i]||t;return n}function de(e,a){return Array(a+1).join(e)}function Se(e){var a=e+"",r=a[0]==="-"?"-":"";r&&(a=a.substring(1));var n=a.split(/[eE]/g),t=n[0],i=n[1];if(i=Number(i),!i)return r+t;t=t.replace(".","");var l=1+i,x=t.length;return l<0?t="0."+de("0",Math.abs(l))+t:l>=x?t=t+de("0",l-x):t=(t.substring(0,l)||"0")+"."+t.substring(l),r+t}function ce(e,a,r){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||r)&&a,t=le(e),i=t.beforeDecimal,l=t.afterDecimal,x=t.hasNegation,S=parseFloat("0."+(l||"0")),y=l.length<=a?"0."+l:S.toFixed(a),g=y.split("."),m=i;i&&Number(g[0])&&(m=i.split("").reverse().reduce(function(w,V,v){return w.length>v?(Number(w[0])+Number(V)).toString()+w.substring(1,w.length):V+w},g[0]));var h=xe(g[1]||"",a,r),p=x?"-":"",f=n?".":"";return""+p+m+f+h}function Z(e,a){if(e.value=e.value,e!==null){if(e.createTextRange){var r=e.createTextRange();return r.move("character",a),r.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(a,a),!0):(e.focus(),!1)}}var ye=Le(function(e,a){for(var r=0,n=0,t=e.length,i=a.length;e[r]===a[r]&&r<t;)r++;for(;e[t-1-n]===a[i-1-n]&&i-n>r&&t-n>r;)n++;return{from:{start:r,end:t-n},to:{start:r,end:i-n}}});function Ue(e,a,r){return Math.min(Math.max(e,a),r)}function oe(e){return Math.max(e.selectionStart,e.selectionEnd)}function $e(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function Ge(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function Ze(e){var a=e.currentValue,r=e.formattedValue,n=e.currentValueIndex,t=e.formattedValueIndex;return a[n]===r[t]}function He(e,a,r,n,t,i,l){l===void 0&&(l=Ze);var x=t.findIndex(function(M){return M}),S=e.slice(0,x);!a&&!r.startsWith(S)&&(a=S,r=S+r,n=n+S.length);for(var y=r.length,g=e.length,m={},h=new Array(y),p=0;p<y;p++){h[p]=-1;for(var f=0,w=g;f<w;f++){var V=l({currentValue:r,lastValue:a,formattedValue:e,currentValueIndex:p,formattedValueIndex:f});if(V&&m[f]!==!0){h[p]=f,m[f]=!0;break}}}for(var v=n;v<y&&(h[v]===-1||!i(r[v]));)v++;var E=v===y||h[v]===-1?g:h[v];for(v=n-1;v>0&&h[v]===-1;)v--;var F=v===-1||h[v]===-1?0:h[v]+1;return F>E?E:n-F<E-n?F:E}function ve(e,a,r,n){var t=e.length;if(a=Ue(a,0,t),n==="left"){for(;a>=0&&!r[a];)a--;a===-1&&(a=r.indexOf(!0))}else{for(;a<=t&&!r[a];)a++;a>t&&(a=r.lastIndexOf(!0))}return a===-1&&(a=t),a}function ze(e){for(var a=Array.from({length:e.length+1}).map(function(){return!0}),r=0,n=a.length;r<n;r++)a[r]=!!(ae(e[r])||ae(e[r-1]));return a}function Ve(e,a,r,n,t,i){i===void 0&&(i=U);var l=Ke(function(f,w){var V,v;return he(f)?(v="",V=""):typeof f=="number"||w?(v=typeof f=="number"?Se(f):f,V=n(v)):(v=t(f,void 0),V=n(v)),{formattedValue:V,numAsString:v}}),x=B.useState(function(){return l(J(e)?a:e,r)}),S=x[0],y=x[1],g=function(f,w){f.formattedValue!==S.formattedValue&&y({formattedValue:f.formattedValue,numAsString:f.value}),i(f,w)},m=e,h=r;J(e)&&(m=S.numAsString,h=!0);var p=l(m,h);return B.useMemo(function(){y(p)},[p.formattedValue]),[S,g]}function Je(e){return e.replace(/[^0-9]/g,"")}function Qe(e){return e}function Xe(e){var a=e.type;a===void 0&&(a="text");var r=e.displayType;r===void 0&&(r="input");var n=e.customInput,t=e.renderText,i=e.getInputRef,l=e.format;l===void 0&&(l=Qe);var x=e.removeFormatting;x===void 0&&(x=Je);var S=e.defaultValue,y=e.valueIsNumericString,g=e.onValueChange,m=e.isAllowed,h=e.onChange;h===void 0&&(h=U);var p=e.onKeyDown;p===void 0&&(p=U);var f=e.onMouseUp;f===void 0&&(f=U);var w=e.onFocus;w===void 0&&(w=U);var V=e.onBlur;V===void 0&&(V=U);var v=e.value,E=e.getCaretBoundary;E===void 0&&(E=ze);var F=e.isValidInputCharacter;F===void 0&&(F=ae);var M=e.isCharacterSame,q=ge(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),$=Ve(v,S,!!y,l,x,g),P=$[0],b=P.formattedValue,L=P.numAsString,K=$[1],k=B.useRef({formattedValue:b,numAsString:L}),H=function(o,u){k.current={formattedValue:o.formattedValue,numAsString:o.value},K(o,u)},W=B.useState(!1),Q=W[0],X=W[1],s=B.useRef(null),d=B.useRef({setCaretTimeout:null,focusTimeout:null});B.useEffect(function(){return X(!0),function(){clearTimeout(d.current.setCaretTimeout),clearTimeout(d.current.focusTimeout)}},[]);var R=l,I=function(o,u){var c=parseFloat(u);return{formattedValue:o,value:u,floatValue:isNaN(c)?void 0:c}},C=function(o,u,c){o.selectionStart===0&&o.selectionEnd===o.value.length||(Z(o,u),d.current.setCaretTimeout=setTimeout(function(){o.value===c&&o.selectionStart!==u&&Z(o,u)},0))},A=function(o,u,c){return ve(o,u,E(o),c)},O=function(o,u,c){var T=E(u),_=He(u,b,o,c,T,F,M);return _=ve(u,_,T),_},re=function(o){var u=o.formattedValue;u===void 0&&(u="");var c=o.input,T=o.source,_=o.event,N=o.numAsString,D;if(c){var j=o.inputValue||c.value,Y=oe(c);c.value=u,D=O(j,u,Y),D!==void 0&&C(c,D,u)}u!==b&&H(I(u,N),{event:_,source:T})};B.useEffect(function(){var o=k.current,u=o.formattedValue,c=o.numAsString;b!==u&&(b!==L||u!==c)&&H(I(b,L),{event:void 0,source:ee.props})},[b,L]);var ie=s.current?oe(s.current):void 0,te=typeof window<"u"?B.useLayoutEffect:B.useEffect;te(function(){var o=s.current;if(b!==k.current.formattedValue&&o){var u=O(k.current.formattedValue,b,ie);o.value=b,C(o,u,b)}},[b]);var be=function(o,u,c){var T=ye(b,o),_=Object.assign(Object.assign({},T),{lastValue:b}),N=x(o,_),D=R(N);if(N=x(D,void 0),m&&!m(I(D,N))){var j=u.target,Y=oe(j),Re=O(o,b,Y);return j.value=b,C(j,Re,b),!1}return re({formattedValue:D,numAsString:N,inputValue:o,event:u,source:c,input:u.target}),!0},Ne=function(o){var u=o.target,c=u.value,T=be(c,o,ee.event);T&&h(o)},we=function(o){var u=o.target,c=o.key,T=u.selectionStart,_=u.selectionEnd,N=u.value;N===void 0&&(N="");var D;if(c==="ArrowLeft"||c==="Backspace"?D=Math.max(T-1,0):c==="ArrowRight"?D=Math.min(T+1,N.length):c==="Delete"&&(D=T),D===void 0||T!==_){p(o);return}var j=D;if(c==="ArrowLeft"||c==="ArrowRight"){var Y=c==="ArrowLeft"?"left":"right";j=A(N,D,Y),j!==D&&o.preventDefault()}else c==="Delete"&&!F(N[D])?j=A(N,D,"right"):c==="Backspace"&&!F(N[D])&&(j=A(N,D,"left"));j!==D&&C(u,j,N),o.isUnitTestRun&&C(u,j,N),p(o)},De=function(o){var u=o.target,c=u.selectionStart,T=u.selectionEnd,_=u.value;if(_===void 0&&(_=""),c===T){var N=A(_,c);N!==c&&C(u,N,_)}f(o)},Ie=function(o){o.persist&&o.persist();var u=o.target,c=o.currentTarget;s.current=u,d.current.focusTimeout=setTimeout(function(){var T=u.selectionStart,_=u.selectionEnd,N=u.value;N===void 0&&(N="");var D=A(N,T);D!==T&&!(T===0&&_===N.length)&&C(u,D,N),w(Object.assign(Object.assign({},o),{currentTarget:c}))},0)},Ce=function(o){s.current=null,clearTimeout(d.current.focusTimeout),clearTimeout(d.current.setCaretTimeout),V(o)},Ae=Q&&$e()?"numeric":void 0,fe=Object.assign({inputMode:Ae},q,{type:a,value:b,onChange:Ne,onKeyDown:we,onMouseUp:De,onFocus:Ie,onBlur:Ce});if(r==="text")return t?z.createElement(z.Fragment,null,t(b,q)||null):z.createElement("span",Object.assign({},q,{ref:i}),b);if(n){var Te=n;return z.createElement(Te,Object.assign({},fe,{ref:i}))}return z.createElement("input",Object.assign({},fe,{ref:i}))}function me(e,a){var r=a.decimalScale,n=a.fixedDecimalScale,t=a.prefix;t===void 0&&(t="");var i=a.suffix;i===void 0&&(i="");var l=a.allowNegative,x=a.thousandsGroupStyle;if(x===void 0&&(x="thousand"),e===""||e==="-")return e;var S=ne(a),y=S.thousandSeparator,g=S.decimalSeparator,m=r!==0&&e.indexOf(".")!==-1||r&&n,h=le(e,l),p=h.beforeDecimal,f=h.afterDecimal,w=h.addNegation;return r!==void 0&&(f=xe(f,r,!!n)),y&&(p=Pe(p,y,x)),t&&(p=t+p),i&&(f=f+i),w&&(p="-"+p),e=p+(m&&g||"")+f,e}function ne(e){var a=e.decimalSeparator;a===void 0&&(a=".");var r=e.thousandSeparator,n=e.allowedDecimalSeparators;return r===!0&&(r=","),n||(n=[a,"."]),{decimalSeparator:a,thousandSeparator:r,allowedDecimalSeparators:n}}function Ye(e,a){e===void 0&&(e="");var r=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),t=r.test(e),i=n.test(e);return e=e.replace(/-/g,""),t&&!i&&a&&(e="-"+e),e}function ea(e,a){return new RegExp("(^-)|[0-9]|"+pe(e),a?"g":void 0)}function aa(e,a,r){return e===""?!0:!(a!=null&&a.match(/\d/))&&!(r!=null&&r.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function ra(e,a,r){var n;a===void 0&&(a=Ge(e));var t=r.allowNegative,i=r.prefix;i===void 0&&(i="");var l=r.suffix;l===void 0&&(l="");var x=r.decimalScale,S=a.from,y=a.to,g=y.start,m=y.end,h=ne(r),p=h.allowedDecimalSeparators,f=h.decimalSeparator,w=e[m]===f;if(ae(e)&&(e===i||e===l)&&a.lastValue==="")return e;if(m-g===1&&p.indexOf(e[g])!==-1){var V=x===0?"":f;e=e.substring(0,g)+V+e.substring(g+1,e.length)}var v=function(d,R,I){var C=!1,A=!1;i.startsWith("-")?C=!1:d.startsWith("--")?(C=!1,A=!0):l.startsWith("-")&&d.length===l.length?C=!1:d[0]==="-"&&(C=!0);var O=C?1:0;return A&&(O=2),O&&(d=d.substring(O),R-=O,I-=O),{value:d,start:R,end:I,hasNegation:C}},E=v(e,g,m),F=E.hasNegation;n=E,e=n.value,g=n.start,m=n.end;var M=v(a.lastValue,S.start,S.end),q=M.start,$=M.end,P=M.value,b=e.substring(g,m);e.length&&P.length&&(q>P.length-l.length||$<i.length)&&!(b&&l.startsWith(b))&&(e=P);var L=0;e.startsWith(i)?L+=i.length:g<i.length&&(L=g),e=e.substring(L),m-=L;var K=e.length,k=e.length-l.length;e.endsWith(l)?K=k:(m>k||m>e.length-l.length)&&(K=m),e=e.substring(0,K),e=Ye(F?"-"+e:e,t),e=(e.match(ea(f,!0))||[]).join("");var H=e.indexOf(f);e=e.replace(new RegExp(pe(f),"g"),function(d,R){return R===H?".":""});var W=le(e,t),Q=W.beforeDecimal,X=W.afterDecimal,s=W.addNegation;return y.end-y.start<S.end-S.start&&Q===""&&w&&!parseFloat(X)&&(e=s?"-":""),e}function ta(e,a){var r=a.prefix;r===void 0&&(r="");var n=a.suffix;n===void 0&&(n="");var t=Array.from({length:e.length+1}).map(function(){return!0}),i=e[0]==="-";t.fill(!1,0,r.length+(i?1:0));var l=e.length;return t.fill(!1,l-n.length+1,l+1),t}function na(e){var a=ne(e),r=a.thousandSeparator,n=a.decimalSeparator,t=e.prefix;t===void 0&&(t="");var i=e.allowNegative;if(i===void 0&&(i=!0),r===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+r+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return t.startsWith("-")&&i&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+t+`
      allowNegative: `+i+`
    `),i=!1),Object.assign(Object.assign({},e),{allowNegative:i})}function ia(e){e=na(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var a=e.suffix,r=e.allowNegative,n=e.allowLeadingZeros,t=e.onKeyDown;t===void 0&&(t=U);var i=e.onBlur;i===void 0&&(i=U);var l=e.thousandSeparator,x=e.decimalScale,S=e.fixedDecimalScale,y=e.prefix;y===void 0&&(y="");var g=e.defaultValue,m=e.value,h=e.valueIsNumericString,p=e.onValueChange,f=ge(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),w=ne(e),V=w.decimalSeparator,v=w.allowedDecimalSeparators,E=function(s){return me(s,e)},F=function(s,d){return ra(s,d,e)},M=J(m)?g:m,q=h??aa(M,y,a);J(m)?J(g)||(q=q||typeof g=="number"):q=q||typeof m=="number";var $=function(s){return he(s)?s:(typeof s=="number"&&(s=Se(s)),q&&typeof x=="number"?ce(s,x,!!S):s)},P=Ve($(m),$(g),!!q,E,F,p),b=P[0],L=b.numAsString,K=b.formattedValue,k=P[1],H=function(s){var d=s.target,R=s.key,I=d.selectionStart,C=d.selectionEnd,A=d.value;if(A===void 0&&(A=""),I!==C){t(s);return}R==="Backspace"&&A[0]==="-"&&I===y.length+1&&r&&Z(d,1),x&&S&&(R==="Backspace"&&A[I-1]===V?(Z(d,I-1),s.preventDefault()):R==="Delete"&&A[I]===V&&s.preventDefault()),v!=null&&v.includes(R)&&A[I]===V&&Z(d,I+1);var O=l===!0?",":l;R==="Backspace"&&A[I-1]===O&&Z(d,I-1),R==="Delete"&&A[I]===O&&Z(d,I+1),t(s)},W=function(s){var d=L;if(d.match(/\d/g)||(d=""),n||(d=We(d)),S&&x&&(d=ce(d,x,S)),d!==L){var R=me(d,e);k({formattedValue:R,value:d,floatValue:parseFloat(d)},{event:s,source:ee.event})}i(s)},Q=function(s){return s===V?!0:ae(s)},X=function(s){var d=s.currentValue,R=s.lastValue,I=s.formattedValue,C=s.currentValueIndex,A=s.formattedValueIndex,O=d[C],re=I[A],ie=ye(R,d),te=ie.to;return C>=te.start&&C<te.end&&v&&v.includes(O)&&re===V?!0:O===re};return Object.assign(Object.assign({},f),{value:K,valueIsNumericString:!1,isValidInputCharacter:Q,isCharacterSame:X,onValueChange:k,format:E,removeFormatting:F,getCaretBoundary:function(s){return ta(s,e)},onKeyDown:H,onBlur:W})}function oa(e){var a=ia(e);return z.createElement(Xe,Object.assign({},a))}const ua=je(qe,{slot:"root"})(()=>({"& input":{textAlign:"right"}})),la=({label:e,placeholder:a,helperText:r,disabled:n,value:t,required:i,labelPosition:l="top",fixedDecimalScale:x,decimalScale:S,thousandSeparator:y,onChange:g})=>{const{endAdornment:m}=B.useContext(Be),[h,p]=B.useState(t),f=B.useCallback(V=>{p(V.value),g&&g(V.value,V.formattedValue,V.floatValue)},[p,g]),w=B.useCallback(()=>G.jsx(Ee,{position:"start",sx:{ml:"8px"},children:G.jsx(Oe,{icon:Fe.Dollar,height:"20px",width:"20px"})}),[]);return G.jsxs(G.Fragment,{children:[G.jsx(se.Label,{required:i,position:l,children:e}),G.jsx(oa,{value:h,onValueChange:f,placeholder:a,thousandSeparator:y,fixedDecimalScale:x,decimalScale:S,customInput:ua,disabled:n,InputProps:{startAdornment:w(),endAdornment:m}}),G.jsx(se.HelperText,{children:r})]})},ue=_e(la,"Currency");ue.defaultProps={labelPosition:"top",thousandSeparator:!1,fixedDecimalScale:!1,decimalScale:2,disabled:!1,required:!1};try{ue.displayName="Currency",ue.__docgenInfo={description:"",displayName:"Currency",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},labelPosition:{defaultValue:{value:"top"},description:"",name:"labelPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"left"'}]}},endAdornment:{defaultValue:null,description:"",name:"endAdornment",required:!1,type:{name:"ReactNode"}},debounce:{defaultValue:null,description:"",name:"debounce",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(value: string, formattedValue: string, floatValue: number) => void"}},fixedDecimalScale:{defaultValue:null,description:"",name:"fixedDecimalScale",required:!1,type:{name:"boolean"}},decimalScale:{defaultValue:null,description:"",name:"decimalScale",required:!1,type:{name:"number"}},thousandSeparator:{defaultValue:null,description:"",name:"thousandSeparator",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"Style props for the container",name:"sx",required:!1,type:{name:"SxProps"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"warning"'},{value:'"error"'},{value:'"success"'}]}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string"}}}}}catch{}export{ue as C,oa as N};
