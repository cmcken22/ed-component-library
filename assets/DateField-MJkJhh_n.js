import{j as u}from"./jsx-runtime-Du8NFWEI.js";import{d as _,c as U,L as K,A as Q,D as X}from"./DatePicker-Bgh_D4xi.js";import{i as S}from"./index-B-KJ_PcS.js";import{r as o}from"./index-Dl6G-zuu.js";import{w as Z,B as $,u as ee,I as N,a as x,V as te,g as ae}from"./useCommonOnChangeHandler-DfyMK7Qn.js";import{a as E,I as O}from"./Icon.types-Cts1U0M4.js";import{T as ne}from"./testIds-CT2jQqrK.js";const me=(e,t)=>t.some(a=>(a==null?void 0:a.getTime())===(e==null?void 0:e.getTime())),pe=e=>e!==null&&f(e),he=(e,t)=>e.getTime()-t.getTime(),ye=(e,t=1)=>{const a=new Date(e),n=a.getMonth();return a.setDate(1),a.setMonth(n-t),a},f=e=>{try{return e instanceof Date&&!isNaN(e.getTime())}catch{return!1}},De=e=>{const t={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"};return t==null?void 0:t[e]},ge=e=>{const t=re(e);return new Date(t).getMonth()},re=e=>{for(let t=0;t<e.length;t++){const a=e[t];for(let n=0;n<a.length;n++){const l=a[n];if(new Date(l).getDate()===1)return l}}},h=e=>{if(e&&f(e)){const t=new Date(e);return t.setHours(0,0,0,0),t}return null},be=(e,t,a=!1)=>{if(!f(t)||!f(e))return NaN;let n;return n=(e.getFullYear()-t.getFullYear())*12,n-=t.getMonth(),n+=e.getMonth(),a?Math.abs(n):n},Ve=e=>!e||!Array.isArray(e)||Array.isArray(e)&&e.length===0?null:e==null?void 0:e.map(t=>h(t)),qe=(e,t)=>{const a=Math.max(e==null?void 0:e.length,t==null?void 0:t.length);if(isNaN(a))return-1;for(let n=0;n<a;n++)if(!S(e==null?void 0:e[n],t==null?void 0:t[n]))return n;return-1},Me=e=>{const t=h(e),a=t.getDay(),n=a,l=6-a,d=new Date(t);d.setDate(t.getDate()-n);const m=new Date(t);return m.setDate(t.getDate()+l),[d,m]},Ce=e=>{const t=h(e),a=t.getFullYear(),n=t.getMonth(),l=new Date(a,n,1),d=new Date(a,n+1,0);return[l,d]},xe=e=>{const a=h(e).getFullYear(),n=new Date(a,0,1),l=new Date(a,11,31);return[n,l]};_.extend(U);const le=({label:e,required:t,labelPosition:a="top",helperText:n,disabled:l,variant:d,placeholder:m,color:B,format:R,value:y,onClick:W,onChange:H,hideCalendarIcon:F,readOnly:D,inputRef:L,debounce:J,currentDate:A=new Date,disablePast:k,disableFuture:w,disableCurrent:I,dateDisabled:g,onValidation:b,allowClear:V,endAdornment:c,persistEndAdornment:v})=>{const{endAdornment:p}=o.useContext($),[i,q]=o.useState(y),P=ee({onChange:H,debounce:J});o.useEffect(()=>{q(y)},[y]);const z=o.useCallback(()=>F?null:u.jsx(N,{position:"start",sx:{ml:"8px"},children:u.jsx(E,{icon:O.Calendar,height:"20px",width:"20px"})}),[F]),j=o.useCallback(r=>{const s=new Date(A);return s.setHours(0,0,0,0),I&&S(r,s)||w&&r>s||k&&r<s?!0:g?g(r):!1},[I,A,w,k,g]),M=o.useCallback(r=>{let s=!0;return f(r)||(s=!1),j(r)&&(s=!1),b&&b(s),s},[j,b]);o.useEffect(()=>{i&&M(i)},[]);const C=o.useCallback(r=>{q(r),P(r),M(r)},[q,P,M]),Y=o.useCallback(()=>{C(null)},[C]),G=o.useCallback(()=>{const r=[];return!c&&!p&&!V||(V&&i&&!l&&r.push(u.jsx(E,{icon:O.Close,size:20,color:"border.dark",onClick:Y},"clear")),p&&r.push(p),(!c||c&&v)&&r.push(c),!r.length)?null:u.jsx(N,{position:"end",sx:{ml:"8px",display:"flex",alignItems:"center",gap:"4px",".status-adornment":{ml:0}},children:r})},[p,c,v,V,l,i,Y]);return u.jsxs(x,{children:[u.jsx(x.Label,{required:t,position:a,children:e}),u.jsx(K,{dateAdapter:Q,children:u.jsx(X,{ref:L,format:R,disableOpenPicker:!0,value:i?_(i):null,disabled:l,readOnly:D,slotProps:{textField:{variant:te[d],onFocus:D?r=>{var s;return(s=r==null?void 0:r.target)==null?void 0:s.blur()}:null,onClick:W,InputProps:{"data-testid":ne.DATE_FIELD_INPUT,sx:{"& input":{color:ae(B,i)}},placeholder:m,startAdornment:z(),endAdornment:G()}}},localeText:{fieldMonthPlaceholder:()=>"MMM"},onChange:r=>{D||l||C(r?r.toDate():null)}})}),u.jsx(x.HelperText,{children:n})]})},T=Z(le,"DateField");T.defaultProps={format:"MMM DD, YYYY",placeholder:"MMM DD, YYYY",disableFuture:!1,disableCurrent:!1,disablePast:!1,allowClear:!1};try{T.displayName="DateField",T.__docgenInfo={description:"",displayName:"DateField",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"Style props for the container",name:"sx",required:!1,type:{name:"SxProps"}},format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Date"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(value: Date) => void"}},hideCalendarIcon:{defaultValue:null,description:"",name:"hideCalendarIcon",required:!1,type:{name:"boolean"}},inputRef:{defaultValue:null,description:"",name:"inputRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},disableFuture:{defaultValue:{value:"false"},description:"",name:"disableFuture",required:!1,type:{name:"boolean"}},disableCurrent:{defaultValue:{value:"false"},description:"",name:"disableCurrent",required:!1,type:{name:"boolean"}},disablePast:{defaultValue:{value:"false"},description:"",name:"disablePast",required:!1,type:{name:"boolean"}},dateDisabled:{defaultValue:null,description:"Function to disable specific dates",name:"dateDisabled",required:!1,type:{name:"(date: Date) => boolean"}},currentDate:{defaultValue:{value:"new Date()"},description:"Current Date, used for validating the date",name:"currentDate",required:!1,type:{name:"Date"}},onValidation:{defaultValue:null,description:"",name:"onValidation",required:!1,type:{name:"(isValid: boolean) => void"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},labelPosition:{defaultValue:{value:"top"},description:"",name:"labelPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"left"'}]}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(e: any) => void"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"outlined"'},{value:'"standard"'},{value:'"table"'}]}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"warning"'},{value:'"error"'},{value:'"success"'}]}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string"}},TooltipProps:{defaultValue:null,description:"",name:"TooltipProps",required:!1,type:{name:"TooltipProps"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"ReactNode"}},endAdornment:{defaultValue:null,description:"",name:"endAdornment",required:!1,type:{name:"ReactNode"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(e: any) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(e: any) => void"}},debounce:{defaultValue:null,description:"",name:"debounce",required:!1,type:{name:"number"}},persistEndAdornment:{defaultValue:null,description:"In the case that a staus is provided, the endAdornment will be hidden.\nSetting `persistEndAdornment` to true will keep the endAdornment visible beside the status icon.",name:"persistEndAdornment",required:!1,type:{name:"boolean"}},allowClear:{defaultValue:null,description:"",name:"allowClear",required:!1,type:{name:"boolean"}}}}}catch{}export{T as D,De as a,be as b,ye as c,ge as d,Ve as e,qe as f,re as g,h,f as i,Me as j,Ce as k,xe as l,me as m,pe as n,he as s};
