import{j as r}from"./styled-ucQaTERo.js";import{d as b,c as M,D as C,L as V,A as q,P as E,a as O}from"./Popover-BmSu4EfO.js";import{r as n}from"./index-CBqU2yxZ.js";import{I as S,B}from"./BaseInput-D0gr1yx-.js";import{a as P,I as v}from"./Icon-BXYs8mwb.js";import{B as A}from"./Box-BCwfq51s.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-BPGUNDjC.js";import"./_commonjsHelpers-BosuxZz1.js";import"./TransitionGroupContext-D_Kblpyy.js";import"./index-D3ylJrlI.js";import"./Typography-rKY_6Ojh.js";import"./createSvgIcon-DpQRr9RR.js";import"./ButtonBase-BlZvthU4.js";import"./assertThisInitialized-B9jnkVVz.js";import"./inheritsLoose-B7h9gheN.js";import"./Input-DP3i7LaB.js";import"./index-BpvXyOxN.js";import"./useFormControl-Bd6AoRoF.js";import"./Typography-ymdnIRfC.js";import"./Typography-BMnKtjAa.js";import"./Button-BfMjOCkx.js";import"./index-BtM5VmRH.js";import"./ThemeWrapper-ClhbNyuJ.js";import"./GlobalStyles-C9WELEop.js";import"./Avatar-YqGNBgh8.js";import"./useOnHover-BXjM-W-S.js";import"./Checkbox-C3x5qspr.js";import"./FormControlLabel-DjwVXnHl.js";import"./Chip-DxxNQZzv.js";import"./index-DkvFToXR.js";import"./Dropdown-CmUYG_Zx.js";import"./enqueueSnackbar-XsqH-Yeq.js";b.extend(M);const K=e=>{const s=[],o=/[^A-Za-z0-9\s]/g;let t;for(;(t=o.exec(e))!==null;)s.push(t.index);return s},N=(e,s)=>{const o=[];e[0]>0&&o.push([0,e[0]-1]);for(let t=0;t<e.length-1;t++)e[t]+1<e[t+1]&&o.push([e[t]+1,e[t+1]-1]);return e[e.length-1]<s-1&&o.push([e[e.length-1]+1,s-1]),o},w=({format:e,value:s,onChange:o})=>{const[t,m]=n.useState(s);n.useEffect(()=>{m(s)},[s]);const h=n.useCallback(()=>r.jsx(S,{position:"start",sx:{ml:"8px"},children:r.jsx(P,{icon:v.Calendar,height:"20px",width:"20px"})}),[]),f=n.useRef(null),l=n.useRef(null),x=n.useCallback((a,p,i)=>{if((a==null?void 0:a.key)!=="ArrowLeft"&&(a==null?void 0:a.key)!=="ArrowRight")return;const D=K(e),g=N(D,e.length),y=(a==null?void 0:a.key)==="ArrowRight"?1:-1,u=i===1?l.current:f.current;if(p.selectionEnd===10&&y===1&&(u.focus(),u.setSelectionRange(0,0)),p.selectionStart===0&&y===-1){u.focus();const c=g[g.length-1],j=c[0],F=c[1]+1;u.setSelectionRange(j,F)}},[e]),d=n.useCallback((a,p)=>{console.log("date:",a),console.log("value:",t),console.log("idx:",p);const i=[...t];i[p]=a,m(i),o&&o(i)},[t,o]);return r.jsxs(A,{sx:{border:"1px solid",borderColor:"primary.main",borderRadius:"4px",display:"flex",alignItems:"center",width:"400px",".MuiInputBase-root":{width:"auto"},fieldset:{display:"none"}},children:[h(),r.jsx(C,{inputRef:f,format:e,disableOpenPicker:!0,value:t!=null&&t[0]?b(t==null?void 0:t[0]):"",sx:{fieldset:{border:"none"}},slotProps:{textField:{onKeyDown:a=>x(a,a.target,1),sx:{border:"none"}}},onChange:a=>{d(a.toDate(),0)}}),r.jsx(P,{icon:v.ArrowRight,height:"16px",width:"16px",sx:{flexShrink:0,mr:"8px"}}),r.jsx(C,{inputRef:l,format:e,disableOpenPicker:!0,value:t!=null&&t[1]?b(t==null?void 0:t[1]):"",slotProps:{textField:{onKeyDown:a=>x(a,a.target,2)}},onChange:a=>{d(a.toDate(),1)}})]})};w.defaultProps={format:"DD-MM-YYYY",value:new Date,currentDate:new Date,disableFuture:!1,disablePast:!1};try{w.displayName="DateRangeInput",w.__docgenInfo={description:"",displayName:"DateRangeInput",props:{}}}catch{}b.extend(M);const R=({value:e,onChange:s,format:o,placeholder:t,currentDate:m=new Date,disableFuture:h,disablePast:f})=>{const[l,x]=n.useState(null),[d,a]=n.useState([]),[p,i]=n.useState(!1),[D,g]=n.useState(0),y=n.useRef(null);n.useCallback(()=>r.jsx(S,{position:"start",sx:{ml:"8px"},children:r.jsx(P,{icon:v.Calendar,height:"20px",width:"20px"})}),[]);const u=n.useCallback(c=>{console.clear(),console.log("dateRange:",c),a(c)},[a,s,h,f,m]);return console.log("value:",d),r.jsxs("div",{children:[r.jsx(B,{children:({endAdornment:c})=>r.jsx(r.Fragment,{children:r.jsx(A,{onClick:()=>i(!0),ref:j=>x(j),children:r.jsx(V,{dateAdapter:q,children:r.jsx(w,{format:o,value:d,onChange:u})})})})},D),r.jsx(E,{open:p,anchorEl:l,placement:"bottom-end",onClose:()=>{l!=null&&l.contains(document.activeElement)||document.activeElement!==l&&(i(!1),g(c=>c+1))},children:r.jsx(O,{ref:y,onSelect:u,value:d,disableFuture:h,disablePast:f,currentDate:m,numberOfMonths:2,range:!0},`date-picker2--${D}`)},`date-picker--${D}`)]})};R.defaultProps={format:"MM/DD/YYYY",placeholder:"MM/DD/YYYY"};try{DateRange.displayName="DateRange",DateRange.__docgenInfo={description:"",displayName:"DateRange",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Date"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(value: Date) => void"}},format:{defaultValue:{value:"MM/DD/YYYY"},description:"",name:"format",required:!1,type:{name:"string"}},placeholder:{defaultValue:{value:"MM/DD/YYYY"},description:"",name:"placeholder",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},disableFuture:{defaultValue:null,description:"",name:"disableFuture",required:!1,type:{name:"boolean"}},disablePast:{defaultValue:null,description:"",name:"disablePast",required:!1,type:{name:"boolean"}},currentDate:{defaultValue:{value:"new Date()"},description:"",name:"currentDate",required:!1,type:{name:"Date"}}}}}catch{}const Ye={title:"Example/DateRange",component:R,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{onChange:{action:"changed"}}},Y={render:e=>(console.log("args?.currentDate:",e==null?void 0:e.currentDate),r.jsx(R,{...e,currentDate:new Date(e==null?void 0:e.currentDate)})),args:{...R.defaultProps,format:"DD-MM-YYYY",currentDate:new Date,disableFuture:!1,disablePast:!1}};var _,k,I;Y.parameters={...Y.parameters,docs:{...(_=Y.parameters)==null?void 0:_.docs,source:{originalSource:`{
  render: args => {
    console.log("args?.currentDate:", args?.currentDate);
    return <DateField {...args} currentDate={new Date(args?.currentDate)} />;
  },
  args: {
    ...DateField.defaultProps,
    format: "DD-MM-YYYY",
    // value: new Date(),
    currentDate: new Date(),
    disableFuture: false,
    disablePast: false
    // onChange: (date: Date) => console.log("XXdateXX:", date),
  }
}`,...(I=(k=Y.parameters)==null?void 0:k.docs)==null?void 0:I.source}}};const be=["Default"];export{Y as Default,be as __namedExportsOrder,Ye as default};
