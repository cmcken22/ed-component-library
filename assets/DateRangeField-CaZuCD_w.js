import{j as o}from"./jsx-runtime-Du8NFWEI.js";import{d as Y,c as z,D as K,L as G,A as Z}from"./DatePicker-ClnZxlh6.js";import{r as u}from"./index-Dl6G-zuu.js";import{w as $,B as J,u as Q,I as U,g as X,a as x}from"./useCommonOnChangeHandler-BSRxhs-1.js";import{a as E,I as S}from"./Icon.types-BKDllfL1.js";import{T as ee}from"./testIds-CT2jQqrK.js";import{s as ne}from"./index-CYSaZ1-Z.js";import{s as te}from"./index-Bm4I-j5O.js";import{B as b}from"./Box-BmeHL9xr.js";const ae=e=>{const i=e.replace(/ /g,"_"),n=[],a=/[^A-Za-z0-9\s]/g;let l;for(;(l=a.exec(i))!==null;)n.push(l.index);return n},re=(e,i)=>{const n=[];e[0]>0&&n.push([0,e[0]-1]);for(let a=0;a<e.length-1;a++)e[a]+1<e[a+1]&&n.push([e[a]+1,e[a+1]-1]);return e[e.length-1]<i-1&&n.push([e[e.length-1]+1,i-1]),n};Y.extend(z);const le=te(b,{shouldForwardProp:ne(["row","status","variant"]),slot:"root"})(({theme:e,status:i,disabled:n,variant:a})=>{var m;const l={error:e.palette.error.main,warning:e.palette.warning.main,success:e.palette.success.main};let d=l!=null&&l[i]?`${l==null?void 0:l[i]} !important`:e.palette.border.main;return n&&(d=e.palette.border.main),{backgroundColor:e.palette.common.white,...n&&{backgroundColor:(m=e.palette.charcoal)==null?void 0:m["5"]},border:"1px solid",borderRadius:"4px",display:"flex",alignItems:"center",width:"100%",borderColor:d,borderWidth:e.shape.borderWidth,".MuiInputBase-root":{width:"auto"},fieldset:{display:"none"},"&:hover":{borderColor:n?"":e.palette.primary.main},"&:focus-within":{borderColor:n?"":e.palette.primary.main},...a==="table"&&{height:"100%",border:"none",backgroundColor:"transparent"}}}),oe=({label:e,labelPosition:i="top",placeholder:n,helperText:a,required:l,disabled:d,variant:m,format:p,value:h,onChange:_,readOnly:y,color:V,hideCalendarIcon:C,inputRef:T,onClick:B,debounce:M})=>{const{status:N,endAdornment:v}=u.useContext(J),w=Q({onChange:_,debounce:M}),A=u.useRef(null),D=u.useRef(null),[r,g]=u.useState(h||[null,null]);u.useEffect(()=>{g(h||[null,null])},[h]);const L=u.useCallback(()=>C?null:o.jsx(U,{position:"start",sx:{ml:"8px"},children:o.jsx(E,{icon:S.Calendar,height:"20px",width:"20px"})}),[C]),I=u.useCallback((t,s,c)=>{if((t==null?void 0:t.key)!=="ArrowLeft"&&(t==null?void 0:t.key)!=="ArrowRight")return;const W=ae(p),j=re(W,p.length),F=(t==null?void 0:t.key)==="ArrowRight"?1:-1,f=c===0?D.current:A.current;if(s.selectionEnd>=p.length&&F===1&&(f.focus(),f.setSelectionRange(0,0)),s.selectionStart===0&&F===-1){f.focus();const P=j[j.length-1],H=P[0],O=P[1]+1;f.setSelectionRange(H,O)}},[p]),R=u.useCallback((t,s)=>{const c=[...r];c[s]=t,g(c),w(c)},[r,g,w]),k=u.useCallback(t=>o.jsx(K,{inputRef:t===0?A:D,format:p,disableOpenPicker:!0,value:r!=null&&r[t]?Y(r==null?void 0:r[t]):null,readOnly:y,sx:{pointerEvents:y?"none":"all",fieldset:{border:"none"}},slotProps:{textField:{InputProps:{style:{height:"34px",padding:0,color:X(V,r==null?void 0:r[t])}},onKeyDown:s=>I(s,s.target,t),placeholder:Array.isArray(n)?n==null?void 0:n[t]:n}},disabled:d,onChange:s=>{R(s?s.toDate():null,t)}}),[I,p,r,R,n,d,y,V]);return o.jsxs(x,{children:[o.jsx(x.Label,{required:l,position:i,children:e}),o.jsx(le,{ref:T,status:N,disabled:d,variant:m,onClick:B,"data-testid":ee.DATE_RANGE_FIELD,children:o.jsxs(G,{dateAdapter:Z,children:[L(),o.jsxs(b,{sx:{width:"100%",display:"flex",alignItems:"center",gap:"4px"},children:[k(0),o.jsx(E,{icon:S.ArrowRight,height:"16px",width:"16px",sx:{flexShrink:0}}),k(1)]}),v&&o.jsx(b,{sx:{mr:1},children:v})]})}),o.jsx(x.HelperText,{children:a})]})},q=$(oe,"DateRangeField");q.defaultProps={format:"MMM DD, YYYY",placeholder:"MMM DD, YYYY"};try{q.displayName="DateRangeField",q.__docgenInfo={description:"",displayName:"DateRangeField",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"Style props for the container",name:"sx",required:!1,type:{name:"SxProps"}},format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Date[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(value: Date[]) => void"}},hideCalendarIcon:{defaultValue:null,description:"",name:"hideCalendarIcon",required:!1,type:{name:"boolean"}},inputRef:{defaultValue:null,description:"",name:"inputRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},placeholder:{defaultValue:{value:"MMM DD, YYYY"},description:`Since there are two inputs, the placeholder can be an array of strings
@example ["Start date", "End date"]`,name:"placeholder",required:!1,type:{name:"string | string[]"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},labelPosition:{defaultValue:{value:"top"},description:"",name:"labelPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"left"'}]}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(e: any) => void"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"outlined"'},{value:'"standard"'},{value:'"table"'}]}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"warning"'},{value:'"error"'},{value:'"success"'}]}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string"}},TooltipProps:{defaultValue:null,description:"",name:"TooltipProps",required:!1,type:{name:"TooltipProps"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:"string"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"ReactNode"}},endAdornment:{defaultValue:null,description:"",name:"endAdornment",required:!1,type:{name:"ReactNode"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(e: any) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(e: any) => void"}},debounce:{defaultValue:null,description:"",name:"debounce",required:!1,type:{name:"number"}},persistEndAdornment:{defaultValue:null,description:"In the case that a staus is provided, the endAdornment will be hidden.\nSetting `persistEndAdornment` to true will keep the endAdornment visible beside the status icon.",name:"persistEndAdornment",required:!1,type:{name:"boolean"}}}}}catch{}export{q as D};
