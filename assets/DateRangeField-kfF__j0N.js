import{j as o}from"./jsx-runtime-Du8NFWEI.js";import{d as P,c as z,D as K,L as G,A as Z}from"./DatePicker-BlexNek5.js";import{r as u}from"./index-Dl6G-zuu.js";import{w as $,B as J,u as Q,I as U,g as X,a as g}from"./useCommonOnChangeHandler-DDi61CwF.js";import{a as E,I as S}from"./Icon.types-DhqP0w5k.js";import{T as ee}from"./testIds-Bl6124vV.js";import{s as ne}from"./index-Sf89G3JB.js";import{s as te}from"./index-D5lE8zFj.js";import{B as x}from"./Box-TRhWXm-4.js";const ae=e=>{const i=e.replace(/ /g,"_"),t=[],a=/[^A-Za-z0-9\s]/g;let l;for(;(l=a.exec(i))!==null;)t.push(l.index);return t},re=(e,i)=>{const t=[];e[0]>0&&t.push([0,e[0]-1]);for(let a=0;a<e.length-1;a++)e[a]+1<e[a+1]&&t.push([e[a]+1,e[a+1]-1]);return e[e.length-1]<i-1&&t.push([e[e.length-1]+1,i-1]),t};P.extend(z);const le=te(x,{shouldForwardProp:ne(["row","status","variant"]),slot:"root"})(({theme:e,status:i,disabled:t,variant:a})=>{const l={error:e.palette.error.main,warning:e.palette.warning.main,success:e.palette.success.main};let d=l!=null&&l[i]?`${l==null?void 0:l[i]} !important`:e.palette.border.main;return t&&(d=e.palette.border.main),{backgroundColor:e.palette.common.white,border:"1px solid",borderRadius:"4px",display:"flex",alignItems:"center",width:"100%",borderColor:d,borderWidth:e.shape.borderWidth,".MuiInputBase-root":{width:"auto"},fieldset:{display:"none"},"&:hover":{borderColor:t?"":e.palette.primary.main},"&:focus-within":{borderColor:t?"":e.palette.primary.main},...a==="table"&&{height:"100%",border:"none",backgroundColor:"transparent"}}}),oe=({label:e,labelPosition:i="top",placeholder:t,helperText:a,required:l,disabled:d,variant:Y,format:p,value:f,onChange:_,readOnly:h,color:q,hideCalendarIcon:V,inputRef:B,onClick:M,debounce:N})=>{const{status:T,endAdornment:v}=u.useContext(J),C=Q({onChange:_,debounce:N}),w=u.useRef(null),A=u.useRef(null),[r,y]=u.useState(f||[null,null]);u.useEffect(()=>{y(f||[null,null])},[f]);const L=u.useCallback(()=>V?null:o.jsx(U,{position:"start",sx:{ml:"8px"},children:o.jsx(E,{icon:S.Calendar,height:"20px",width:"20px"})}),[V]),D=u.useCallback((n,s,c)=>{if((n==null?void 0:n.key)!=="ArrowLeft"&&(n==null?void 0:n.key)!=="ArrowRight")return;const W=ae(p),k=re(W,p.length),j=(n==null?void 0:n.key)==="ArrowRight"?1:-1,m=c===0?A.current:w.current;if(s.selectionEnd>=p.length&&j===1&&(m.focus(),m.setSelectionRange(0,0)),s.selectionStart===0&&j===-1){m.focus();const F=k[k.length-1],H=F[0],O=F[1]+1;m.setSelectionRange(H,O)}},[p]),I=u.useCallback((n,s)=>{const c=[...r];c[s]=n,y(c),C(c)},[r,y,C]),R=u.useCallback(n=>o.jsx(K,{inputRef:n===0?w:A,format:p,disableOpenPicker:!0,value:r!=null&&r[n]?P(r==null?void 0:r[n]):null,readOnly:h,sx:{pointerEvents:h?"none":"all",fieldset:{border:"none"}},slotProps:{textField:{InputProps:{style:{height:"34px",padding:0,color:X(q,r==null?void 0:r[n])}},onKeyDown:s=>D(s,s.target,n),placeholder:Array.isArray(t)?t==null?void 0:t[n]:t}},disabled:d,onChange:s=>{I(s?s.toDate():null,n)}}),[D,p,r,I,t,d,h,q]);return o.jsxs(g,{children:[o.jsx(g.Label,{required:l,position:i,children:e}),o.jsx(le,{ref:B,status:T,disabled:d,variant:Y,onClick:M,"data-testid":ee.DATE_RANGE_FIELD,children:o.jsxs(G,{dateAdapter:Z,children:[L(),o.jsxs(x,{sx:{width:"100%",display:"flex",alignItems:"center",gap:"4px"},children:[R(0),o.jsx(E,{icon:S.ArrowRight,height:"16px",width:"16px",sx:{flexShrink:0}}),R(1)]}),v&&o.jsx(x,{sx:{mr:1},children:v})]})}),o.jsx(g.HelperText,{children:a})]})},b=$(oe,"DateRangeField");b.defaultProps={format:"MMM DD, YYYY",placeholder:"MMM DD, YYYY"};try{b.displayName="DateRangeField",b.__docgenInfo={description:"",displayName:"DateRangeField",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"Style props for the container",name:"sx",required:!1,type:{name:"SxProps"}},format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Date[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(value: Date[]) => void"}},hideCalendarIcon:{defaultValue:null,description:"",name:"hideCalendarIcon",required:!1,type:{name:"boolean"}},inputRef:{defaultValue:null,description:"",name:"inputRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},placeholder:{defaultValue:{value:"MMM DD, YYYY"},description:`Since there are two inputs, the placeholder can be an array of strings
@example ["Start date", "End date"]`,name:"placeholder",required:!1,type:{name:"string | string[]"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"warning"'},{value:'"success"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"standard"'},{value:'"outlined"'},{value:'"table"'}]}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},labelPosition:{defaultValue:{value:"top"},description:"",name:"labelPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"left"'}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:"string"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"ReactNode"}},endAdornment:{defaultValue:null,description:"",name:"endAdornment",required:!1,type:{name:"ReactNode"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(e: any) => void"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(e: any) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(e: any) => void"}},debounce:{defaultValue:null,description:"",name:"debounce",required:!1,type:{name:"number"}},persistEndAdornment:{defaultValue:null,description:"In the case that a staus is provided, the endAdornment will be hidden.\nSetting `persistEndAdornment` to true will keep the endAdornment visible beside the status icon.",name:"persistEndAdornment",required:!1,type:{name:"boolean"}}}}}catch{}export{b as D};
