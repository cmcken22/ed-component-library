import{j as C}from"./jsx-runtime-Du8NFWEI.js";import{s as hr,c as Dr}from"./index-DGPhUUWW.js";import{r as f,R as xr}from"./index-Dl6G-zuu.js";import{P as d}from"./index-Beu9b4Vr.js";import{s as wr,a as $e,m as We}from"./index-B-KJ_PcS.js";import{a as Er,I as Fr}from"./Icon.types-Cts1U0M4.js";import{T as Pe}from"./Typography-BXdRB8J7.js";import{b as Ar}from"./Typography-u1033W3R.js";import{T as Or}from"./testIds-BFSb8VRo.js";import{B as ve}from"./Box-gQIt9B05.js";function Z(e,r,t,n){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(v){try{u(n.next(v))}catch(b){l(b)}}function p(v){try{u(n.throw(v))}catch(b){l(b)}}function u(v){v.done?o(v.value):i(v.value).then(s,p)}u((n=n.apply(e,r||[])).next())})}function J(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(v){return p([u,v])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(t=0)),t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(v){u=[6,v],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function He(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],l;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){l={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return o}function Xe(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}var _r=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function te(e,r){var t=Pr(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Pr(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),i=_r.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var Tr=[".DS_Store","Thumbs.db"];function jr(e){return Z(this,void 0,void 0,function(){return J(this,function(r){return ye(e)&&Sr(e.dataTransfer)?[2,Mr(e.dataTransfer,e.type)]:Cr(e)?[2,Ir(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,kr(e)]:[2,[]]})})}function Sr(e){return ye(e)}function Cr(e){return ye(e)&&ye(e.target)}function ye(e){return typeof e=="object"&&e!==null}function Ir(e){return Se(e.target.files).map(function(r){return te(r)})}function kr(e){return Z(this,void 0,void 0,function(){var r;return J(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return te(n)})]}})})}function Mr(e,r){return Z(this,void 0,void 0,function(){var t,n;return J(this,function(i){switch(i.label){case 0:return e.items?(t=Se(e.items).filter(function(o){return o.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Rr))]):[3,2];case 1:return n=i.sent(),[2,Ge(or(n))];case 2:return[2,Ge(Se(e.files).map(function(o){return te(o)}))]}})})}function Ge(e){return e.filter(function(r){return Tr.indexOf(r.name)===-1})}function Se(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Rr(e){if(typeof e.webkitGetAsEntry!="function")return Ze(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?ir(r):Ze(e)}function or(e){return e.reduce(function(r,t){return Xe(Xe([],He(r),!1),He(Array.isArray(t)?or(t):[t]),!1)},[])}function Ze(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=te(r);return Promise.resolve(t)}function Lr(e){return Z(this,void 0,void 0,function(){return J(this,function(r){return[2,e.isDirectory?ir(e):zr(e)]})})}function ir(e){var r=e.createReader();return new Promise(function(t,n){var i=[];function o(){var l=this;r.readEntries(function(s){return Z(l,void 0,void 0,function(){var p,u,v;return J(this,function(b){switch(b.label){case 0:if(s.length)return[3,5];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return p=b.sent(),t(p),[3,4];case 3:return u=b.sent(),n(u),[3,4];case 4:return[3,6];case 5:v=Promise.all(s.map(Lr)),i.push(v),o(),b.label=6;case 6:return[2]}})})},function(s){n(s)})}o()})}function zr(e){return Z(this,void 0,void 0,function(){return J(this,function(r){return[2,new Promise(function(t,n){e.file(function(i){var o=te(i,e.fullPath);t(o)},function(i){n(i)})})]})})}var Vr=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return t.some(function(l){var s=l.trim().toLowerCase();return s.charAt(0)==="."?n.toLowerCase().endsWith(s):s.endsWith("/*")?o===s.replace(/\/.*$/,""):i===s})}return!0};function Je(e){return Nr(e)||qr(e)||lr(e)||Br()}function Br(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nr(e){if(Array.isArray(e))return Ce(e)}function Ue(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Ye(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ue(Object(t),!0).forEach(function(n){ar(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ue(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ar(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function re(e,r){return Wr(e)||$r(e,r)||lr(e,r)||Kr()}function Kr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lr(e,r){if(e){if(typeof e=="string")return Ce(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ce(e,r)}}function Ce(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function $r(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,l,s;try{for(t=t.call(e);!(i=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));i=!0);}catch(p){o=!0,s=p}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return n}}function Wr(e){if(Array.isArray(e))return e}var Hr="file-invalid-type",Xr="file-too-large",Gr="file-too-small",Zr="too-many-files",Jr=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:Hr,message:"File type must be ".concat(t)}},Qe=function(r){return{code:Xr,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},er=function(r){return{code:Gr,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},Ur={code:Zr,message:"Too many files"};function ur(e,r){var t=e.type==="application/x-moz-file"||Vr(e,r);return[t,t?null:Jr(r)]}function sr(e,r,t){if(N(e.size))if(N(r)&&N(t)){if(e.size>t)return[!1,Qe(t)];if(e.size<r)return[!1,er(r)]}else{if(N(r)&&e.size<r)return[!1,er(r)];if(N(t)&&e.size>t)return[!1,Qe(t)]}return[!0,null]}function N(e){return e!=null}function Yr(e){var r=e.files,t=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,l=e.maxFiles,s=e.validator;return!o&&r.length>1||o&&l>=1&&r.length>l?!1:r.every(function(p){var u=ur(p,t),v=re(u,1),b=v[0],O=sr(p,n,i),I=re(O,1),R=I[0],L=s?s(p):null;return b&&R&&!L})}function be(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ge(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function rr(e){e.preventDefault()}function Qr(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function et(e){return e.indexOf("Edge/")!==-1}function rt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Qr(e)||et(e)}function T(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return r.some(function(s){return!be(n)&&s&&s.apply(void 0,[n].concat(o)),be(n)})}}function tt(){return"showOpenFilePicker"in window}function nt(e){if(N(e)){var r=Object.entries(e).filter(function(t){var n=re(t,2),i=n[0],o=n[1],l=!0;return cr(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(o)||!o.every(fr))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,n){var i=re(n,2),o=i[0],l=i[1];return Ye(Ye({},t),{},ar({},o,l))},{});return[{description:"Files",accept:r}]}return e}function ot(e){if(N(e))return Object.entries(e).reduce(function(r,t){var n=re(t,2),i=n[0],o=n[1];return[].concat(Je(r),[i],Je(o))},[]).filter(function(r){return cr(r)||fr(r)}).join(",")}function it(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function at(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function cr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function fr(e){return/^.*\.[\w]+$/.test(e)}var lt=["children"],ut=["open"],st=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ct=["refKey","onChange","onClick"];function ft(e){return mt(e)||dt(e)||pr(e)||pt()}function pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mt(e){if(Array.isArray(e))return Ie(e)}function Te(e,r){return yt(e)||vt(e,r)||pr(e,r)||gt()}function gt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pr(e,r){if(e){if(typeof e=="string")return Ie(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ie(e,r)}}function Ie(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function vt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,l,s;try{for(t=t.call(e);!(i=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));i=!0);}catch(p){o=!0,s=p}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return n}}function yt(e){if(Array.isArray(e))return e}function tr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?tr(Object(t),!0).forEach(function(n){ke(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ke(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function he(e,r){if(e==null)return{};var t=bt(e,r),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function bt(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}var Le=f.forwardRef(function(e,r){var t=e.children,n=he(e,lt),i=mr(n),o=i.open,l=he(i,ut);return f.useImperativeHandle(r,function(){return{open:o}},[o]),xr.createElement(f.Fragment,null,t(y(y({},l),{},{open:o})))});Le.displayName="Dropzone";var dr={disabled:!1,getFilesFromEvent:jr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Le.defaultProps=dr;Le.propTypes={children:d.func,accept:d.objectOf(d.arrayOf(d.string)),multiple:d.bool,preventDropOnDocument:d.bool,noClick:d.bool,noKeyboard:d.bool,noDrag:d.bool,noDragEventsBubbling:d.bool,minSize:d.number,maxSize:d.number,maxFiles:d.number,disabled:d.bool,getFilesFromEvent:d.func,onFileDialogCancel:d.func,onFileDialogOpen:d.func,useFsAccessApi:d.bool,autoFocus:d.bool,onDragEnter:d.func,onDragLeave:d.func,onDragOver:d.func,onDrop:d.func,onDropAccepted:d.func,onDropRejected:d.func,onError:d.func,validator:d.func};var Me={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function mr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=y(y({},dr),e),t=r.accept,n=r.disabled,i=r.getFilesFromEvent,o=r.maxSize,l=r.minSize,s=r.multiple,p=r.maxFiles,u=r.onDragEnter,v=r.onDragLeave,b=r.onDragOver,O=r.onDrop,I=r.onDropAccepted,R=r.onDropRejected,L=r.onFileDialogCancel,U=r.onFileDialogOpen,K=r.useFsAccessApi,Y=r.autoFocus,z=r.preventDropOnDocument,ne=r.noClick,Q=r.noKeyboard,oe=r.noDrag,_=r.noDragEventsBubbling,$=r.onError,V=r.validator,B=f.useMemo(function(){return ot(t)},[t]),ie=f.useMemo(function(){return nt(t)},[t]),k=f.useMemo(function(){return typeof U=="function"?U:nr},[U]),M=f.useMemo(function(){return typeof L=="function"?L:nr},[L]),D=f.useRef(null),E=f.useRef(null),ae=f.useReducer(ht,Me),le=Te(ae,2),x=le[0],m=le[1],j=x.isFocused,P=x.isFileDialogActive,q=f.useRef(typeof window<"u"&&window.isSecureContext&&K&&tt()),ue=function(){!q.current&&P&&setTimeout(function(){if(E.current){var c=E.current.files;c.length||(m({type:"closeDialog"}),M())}},300)};f.useEffect(function(){return window.addEventListener("focus",ue,!1),function(){window.removeEventListener("focus",ue,!1)}},[E,P,M,q]);var F=f.useRef([]),W=function(c){D.current&&D.current.contains(c.target)||(c.preventDefault(),F.current=[])};f.useEffect(function(){return z&&(document.addEventListener("dragover",rr,!1),document.addEventListener("drop",W,!1)),function(){z&&(document.removeEventListener("dragover",rr),document.removeEventListener("drop",W))}},[D,z]),f.useEffect(function(){return!n&&Y&&D.current&&D.current.focus(),function(){}},[D,Y,n]);var S=f.useCallback(function(a){$?$(a):console.error(a)},[$]),se=f.useCallback(function(a){a.preventDefault(),a.persist(),de(a),F.current=[].concat(ft(F.current),[a.target]),ge(a)&&Promise.resolve(i(a)).then(function(c){if(!(be(a)&&!_)){var h=c.length,w=h>0&&Yr({files:c,accept:B,minSize:l,maxSize:o,multiple:s,maxFiles:p,validator:V}),A=h>0&&!w;m({isDragAccept:w,isDragReject:A,isDragActive:!0,type:"setDraggedFiles"}),u&&u(a)}}).catch(function(c){return S(c)})},[i,u,S,_,B,l,o,s,p,V]),ze=f.useCallback(function(a){a.preventDefault(),a.persist(),de(a);var c=ge(a);if(c&&a.dataTransfer)try{a.dataTransfer.dropEffect="copy"}catch{}return c&&b&&b(a),!1},[b,_]),Ve=f.useCallback(function(a){a.preventDefault(),a.persist(),de(a);var c=F.current.filter(function(w){return D.current&&D.current.contains(w)}),h=c.indexOf(a.target);h!==-1&&c.splice(h,1),F.current=c,!(c.length>0)&&(m({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ge(a)&&v&&v(a))},[D,v,_]),ce=f.useCallback(function(a,c){var h=[],w=[];a.forEach(function(A){var ee=ur(A,B),G=Te(ee,2),xe=G[0],we=G[1],Ee=sr(A,l,o),me=Te(Ee,2),Fe=me[0],Ae=me[1],Oe=V?V(A):null;if(xe&&Fe&&!Oe)h.push(A);else{var _e=[we,Ae];Oe&&(_e=_e.concat(Oe)),w.push({file:A,errors:_e.filter(function(br){return br})})}}),(!s&&h.length>1||s&&p>=1&&h.length>p)&&(h.forEach(function(A){w.push({file:A,errors:[Ur]})}),h.splice(0)),m({acceptedFiles:h,fileRejections:w,type:"setFiles"}),O&&O(h,w,c),w.length>0&&R&&R(w,c),h.length>0&&I&&I(h,c)},[m,s,B,l,o,p,O,I,R,V]),fe=f.useCallback(function(a){a.preventDefault(),a.persist(),de(a),F.current=[],ge(a)&&Promise.resolve(i(a)).then(function(c){be(a)&&!_||ce(c,a)}).catch(function(c){return S(c)}),m({type:"reset"})},[i,ce,S,_]),H=f.useCallback(function(){if(q.current){m({type:"openDialog"}),k();var a={multiple:s,types:ie};window.showOpenFilePicker(a).then(function(c){return i(c)}).then(function(c){ce(c,null),m({type:"closeDialog"})}).catch(function(c){it(c)?(M(c),m({type:"closeDialog"})):at(c)?(q.current=!1,E.current?(E.current.value=null,E.current.click()):S(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):S(c)});return}E.current&&(m({type:"openDialog"}),k(),E.current.value=null,E.current.click())},[m,k,M,K,ce,S,ie,s]),Be=f.useCallback(function(a){!D.current||!D.current.isEqualNode(a.target)||(a.key===" "||a.key==="Enter"||a.keyCode===32||a.keyCode===13)&&(a.preventDefault(),H())},[D,H]),qe=f.useCallback(function(){m({type:"focus"})},[]),Ne=f.useCallback(function(){m({type:"blur"})},[]),Ke=f.useCallback(function(){ne||(rt()?setTimeout(H,0):H())},[ne,H]),X=function(c){return n?null:c},De=function(c){return Q?null:X(c)},pe=function(c){return oe?null:X(c)},de=function(c){_&&c.stopPropagation()},gr=f.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.refKey,h=c===void 0?"ref":c,w=a.role,A=a.onKeyDown,ee=a.onFocus,G=a.onBlur,xe=a.onClick,we=a.onDragEnter,Ee=a.onDragOver,me=a.onDragLeave,Fe=a.onDrop,Ae=he(a,st);return y(y(ke({onKeyDown:De(T(A,Be)),onFocus:De(T(ee,qe)),onBlur:De(T(G,Ne)),onClick:X(T(xe,Ke)),onDragEnter:pe(T(we,se)),onDragOver:pe(T(Ee,ze)),onDragLeave:pe(T(me,Ve)),onDrop:pe(T(Fe,fe)),role:typeof w=="string"&&w!==""?w:"presentation"},h,D),!n&&!Q?{tabIndex:0}:{}),Ae)}},[D,Be,qe,Ne,Ke,se,ze,Ve,fe,Q,oe,n]),vr=f.useCallback(function(a){a.stopPropagation()},[]),yr=f.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.refKey,h=c===void 0?"ref":c,w=a.onChange,A=a.onClick,ee=he(a,ct),G=ke({accept:B,multiple:s,type:"file",style:{display:"none"},onChange:X(T(w,fe)),onClick:X(T(A,vr)),tabIndex:-1},h,E);return y(y({},G),ee)}},[E,t,s,fe,n]);return y(y({},x),{},{isFocused:j&&!n,getRootProps:gr,getInputProps:yr,rootRef:D,inputRef:E,open:X(H)})}function ht(e,r){switch(r.type){case"focus":return y(y({},e),{},{isFocused:!0});case"blur":return y(y({},e),{},{isFocused:!1});case"openDialog":return y(y({},Me),{},{isFileDialogActive:!0});case"closeDialog":return y(y({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return y(y({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return y(y({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return y({},Me);default:return e}}function nr(){}const g={PNG:".png",JPEG:".jpeg",JPG:".jpg",BMP:".bmp",GIF:".gif",PDF:".pdf",DOC:".doc",DOCX:".docx",XLS:".xls",XLSX:".xlsx",PPT:".ppt",PPTX:".pptx",TXT:".txt",JSON:".json",XML:".xml",HTML:".html",HTM:".htm",CSV:".csv",MP4:".mp4",MP3:".mp3",MOV:".mov",AVI:".avi"},je={"image/png":[g.PNG],"image/jpeg":[g.JPEG,g.JPG],"image/bmp":[g.BMP],"image/gif":[g.GIF],"application/pdf":[g.PDF],"application/msword":[g.DOC,g.DOCX],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[g.DOCX],"application/vnd.ms-excel":[g.XLS,g.XLSX],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[g.XLSX],"application/vnd.ms-powerpoint":[g.PPT,g.PPTX],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[g.PPTX],"text/plain":[g.TXT],"application/json":[g.JSON],"application/xml":[g.XML],"text/html":[g.HTML,g.HTM],"text/csv":[g.CSV],"video/mp4":[g.MP4],"audio/mpeg":[g.MP3],"video/quicktime":[g.MOV],"video/x-msvideo":[g.AVI]},Dt=e=>new Promise(r=>{const t=new FileReader;t.onload=function(n){const i=n.target.result;return r([e,i])},t.readAsBinaryString(e)}),xt=e=>{if(!e.length)return je;const r={};for(const t of e)for(const n in je)je[n].includes(t)&&(r[n]||(r[n]=[]));return r},wt=e=>{const r=/\{\{([^}]+)\}\}/g,t=[];let n=0;const i=[];let o;for(;(o=r.exec(e))!==null;){const s=e.substring(n,o.index);s.trim()!==""&&t.push(s.trim());const p=o[1];t.push(p.trim()),i.push((t==null?void 0:t.length)-1),n=o.index+o[0].length}const l=e.substring(n);return l.trim()!==""&&t.push(l.trim()),{result:t,matchIndicies:i}},Et=hr(ve,{shouldForwardProp:wr(["isDragActive","fullWidth","height","width","noClick"]),slot:"root"})(e=>{var p,u;const{isDragActive:r,fullWidth:t,height:n,width:i,noClick:o,disabled:l,theme:s}=e;return{backgroundColor:s.palette.common.white,border:"1px dashed",borderColor:s.palette.revolver.light,height:$e(n),width:t?"100%":$e(i),display:"flex",alignItems:"center",justifyContent:"center",...!l&&{...r&&{backgroundColor:(p=s.palette.revolver)==null?void 0:p["5"],opacity:.5},"&:hover":{backgroundColor:o?"initial":(u=s.palette.revolver)==null?void 0:u["5"],cursor:o?"default":"pointer"}}}}),Re=({id:e,className:r,sx:t,accept:n,onDrop:i,onDragEnter:o,onDragLeave:l,validator:s,onError:p,disabled:u,maxFiles:v,minSize:b,maxSize:O,noClick:I,noDrag:R,noKeyboard:L,noDragEventsBubbling:U,renderContent:K,text:Y,subText:z,width:ne,height:Q,fullWidth:oe})=>{const[_,$]=f.useState([]),V=f.useCallback((x,m)=>{if(m&&(m!=null&&m.length)){p&&p(m);return}const j=[],P=[],q=[],ue=Math.min(x.length,v);for(let F=0;F<ue;F++){const W=x[F];q.push(Dt(W))}Promise.all(q).then(F=>{F.forEach(W=>{const[S,se]=W;j.push(S),P.push(se)}),$(j),i&&i(j,P)}).catch(F=>{console.error(F)})},[i,$,v,p]),{getRootProps:B,getInputProps:ie,open:k,isDragActive:M,isFocused:D}=mr({accept:xt(n||[]),onDrop:V,onDragEnter:o,onDragLeave:l,validator:s,disabled:u,maxFiles:v,minSize:We(b),maxSize:We(O),multiple:v!==1,noClick:I,noDrag:R,noKeyboard:L,noDragEventsBubbling:U}),E=f.useCallback(()=>{const{result:x,matchIndicies:m}=wt(Y);return C.jsx(Pe,{className:"FileDropZone__text",variant:"bodyS",color:"text.secondary",fontWeight:Ar.bold,children:x.map((j,P)=>m!=null&&m.includes(P)?C.jsxs(Pe,{variant:"bodyS",color:"primary",sx:{cursor:"pointer"},onClick:k,component:"a",children:[j,P===x.length-1?"":" "]},P):P===x.length-1?j:`${j} `)})},[Y,k]),ae=f.useCallback(()=>{const x=[];return b&&x.push(`Min ${b}mb`),O&&x.push(`Max ${O}mb`),C.jsx(Pe,{className:"FileDropZone__subText",variant:"bodyXS",color:"charcoal.50",children:z!==void 0?z:x==null?void 0:x.join(" | ")})},[z,b,O]),le=f.useCallback(()=>K?K({open:k,isDragActive:M,isFocused:D,files:_}):C.jsxs(ve,{className:"FileDropZone__content",sx:{opacity:u?.5:1,pointerEvents:u?"none":"auto",display:"flex",flexDirection:"row",alignItems:"center",gap:1,px:"40px"},children:[C.jsx(ve,{className:"FileDropZone__icon",sx:{color:x=>{var m;return(m=x.palette.revolver)==null?void 0:m["60"]}},children:C.jsx(Er,{icon:Fr.FileUpload,color:"inherit",height:"48.06px",width:"65.75px"})}),C.jsxs(ve,{className:"FileDropZone__content-container",display:"flex",flexDirection:"column",children:[E(),ae()]})]}),[K,k,M,D,_,u,E,ae]);return C.jsxs(Et,{id:e,className:Dr("FileDropZone",{[r]:r}),"data-testid":Or.FILE_DROP_ZONE,isDragActive:M,fullWidth:oe,height:Q,width:ne,noClick:I,disabled:u,sx:t,...B(),children:[C.jsx("input",{...ie(),disabled:u}),le()]})};Re.defaultProps={maxFiles:1,accept:[...Object.values(g)],noClick:!1,noDrag:!1,noKeyboard:!1,noDragEventsBubbling:!1,disabled:!1,minSize:0,maxSize:20,text:"Drop your files here or {{browse}}",subText:void 0,width:500,height:160,fullWidth:!0};try{Re.displayName="FileDropZone",Re.__docgenInfo={description:"",displayName:"FileDropZone",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps"}},onDragEnter:{defaultValue:null,description:"",name:"onDragEnter",required:!1,type:{name:"(event: DragEvent<HTMLDivElement>) => void"}},onDragLeave:{defaultValue:null,description:"",name:"onDragLeave",required:!1,type:{name:"(event: DragEvent<HTMLDivElement>) => void"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:"(files: File[], binaryStrings: string[]) => void"}},accept:{defaultValue:null,description:"",name:"accept",required:!1,type:{name:"FileType[]"}},maxFiles:{defaultValue:null,description:"",name:"maxFiles",required:!1,type:{name:"number"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(err: FileRejection[]) => void"}},minSize:{defaultValue:null,description:"The minimum file size in MB, defaults to 0MB",name:"minSize",required:!1,type:{name:"number"}},maxSize:{defaultValue:null,description:"The maximum file size in MB, defaults to 20MB",name:"maxSize",required:!1,type:{name:"number"}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"<T extends File>(file: T) => FileError | FileError[]"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},noClick:{defaultValue:null,description:"If true, disables click to open the native file selection dialog",name:"noClick",required:!1,type:{name:"boolean"}},noKeyboard:{defaultValue:null,description:"If true, disables SPACE/ENTER to open the native file selection dialog. Note that it also stops tracking the focus state.",name:"noKeyboard",required:!1,type:{name:"boolean"}},noDrag:{defaultValue:null,description:"If true, disables drag 'n' drop",name:"noDrag",required:!1,type:{name:"boolean"}},noDragEventsBubbling:{defaultValue:null,description:"If true, stops drag event propagation to parents",name:"noDragEventsBubbling",required:!1,type:{name:"boolean"}},renderContent:{defaultValue:null,description:"",name:"renderContent",required:!1,type:{name:"({ open, isDragActive, isFocused, files, }: Partial<DropzoneState> & { files: File[]; }) => Element"}},text:{defaultValue:null,description:`The text to display. Wrap the link in double curly braces to extract the text.
Example: "Click {{here}} to upload a file"`,name:"text",required:!1,type:{name:"string"}},subText:{defaultValue:null,description:"",name:"subText",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string | number"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}}}}}catch{}export{Re as F};
