import{s as Fr}from"./index-DlyO01os.js";import{j as S}from"./jsx-runtime-Du8NFWEI.js";import{s as Er,c as Ar}from"./index-DFf-bhEl.js";import{r as f,R as Or}from"./index-Dl6G-zuu.js";import{P as d}from"./index-Beu9b4Vr.js";import{s as _r,a as We,b as He}from"./index-xi7t2yyr.js";import{a as Pr,I as Tr}from"./Icon.types-Dxrb28Jb.js";import{T as Te}from"./Typography-Db548vBZ.js";import{b as jr}from"./Typography-BGHga1vv.js";import{B as ve}from"./Box-DPTDcbim.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-Bpxk95mn.js";import"./createTheme-DtgTEXL7.js";import"./useEnhancedEffect-DZnfS5Iy.js";import"./palette-CQ4KNksy.js";import"./useOnHover-DcG81d-b.js";import"./Typography-C8COxrag.js";function J(e,r,t,n){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(g){try{u(n.next(g))}catch(h){l(h)}}function p(g){try{u(n.throw(g))}catch(h){l(h)}}function u(g){g.done?o(g.value):i(g.value).then(s,p)}u((n=n.apply(e,r||[])).next())})}function U(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(g){return p([u,g])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(t=0)),t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(g){u=[6,g],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Xe(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],l;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){l={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return o}function Ge(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}var Cr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function oe(e,r){var t=Sr(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Sr(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),i=Cr.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var Ir=[".DS_Store","Thumbs.db"];function kr(e){return J(this,void 0,void 0,function(){return U(this,function(r){return be(e)&&Mr(e.dataTransfer)?[2,Vr(e.dataTransfer,e.type)]:Rr(e)?[2,Lr(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,zr(e)]:[2,[]]})})}function Mr(e){return be(e)}function Rr(e){return be(e)&&be(e.target)}function be(e){return typeof e=="object"&&e!==null}function Lr(e){return Se(e.target.files).map(function(r){return oe(r)})}function zr(e){return J(this,void 0,void 0,function(){var r;return U(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return oe(n)})]}})})}function Vr(e,r){return J(this,void 0,void 0,function(){var t,n;return U(this,function(i){switch(i.label){case 0:return e.items?(t=Se(e.items).filter(function(o){return o.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Nr))]):[3,2];case 1:return n=i.sent(),[2,Ze(sr(n))];case 2:return[2,Ze(Se(e.files).map(function(o){return oe(o)}))]}})})}function Ze(e){return e.filter(function(r){return Ir.indexOf(r.name)===-1})}function Se(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Nr(e){if(typeof e.webkitGetAsEntry!="function")return Je(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?ur(r):Je(e)}function sr(e){return e.reduce(function(r,t){return Ge(Ge([],Xe(r),!1),Xe(Array.isArray(t)?sr(t):[t]),!1)},[])}function Je(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=oe(r);return Promise.resolve(t)}function qr(e){return J(this,void 0,void 0,function(){return U(this,function(r){return[2,e.isDirectory?ur(e):Br(e)]})})}function ur(e){var r=e.createReader();return new Promise(function(t,n){var i=[];function o(){var l=this;r.readEntries(function(s){return J(l,void 0,void 0,function(){var p,u,g;return U(this,function(h){switch(h.label){case 0:if(s.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return p=h.sent(),t(p),[3,4];case 3:return u=h.sent(),n(u),[3,4];case 4:return[3,6];case 5:g=Promise.all(s.map(qr)),i.push(g),o(),h.label=6;case 6:return[2]}})})},function(s){n(s)})}o()})}function Br(e){return J(this,void 0,void 0,function(){return U(this,function(r){return[2,new Promise(function(t,n){e.file(function(i){var o=oe(i,e.fullPath);t(o)},function(i){n(i)})})]})})}var Kr=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return t.some(function(l){var s=l.trim().toLowerCase();return s.charAt(0)==="."?n.toLowerCase().endsWith(s):s.endsWith("/*")?o===s.replace(/\/.*$/,""):i===s})}return!0};function Ue(e){return Hr(e)||Wr(e)||fr(e)||$r()}function $r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hr(e){if(Array.isArray(e))return Ie(e)}function Ye(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Qe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ye(Object(t),!0).forEach(function(n){cr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ye(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function cr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function te(e,r){return Zr(e)||Gr(e,r)||fr(e,r)||Xr()}function Xr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fr(e,r){if(e){if(typeof e=="string")return Ie(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ie(e,r)}}function Ie(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Gr(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,l,s;try{for(t=t.call(e);!(i=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));i=!0);}catch(p){o=!0,s=p}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return n}}function Zr(e){if(Array.isArray(e))return e}var Jr="file-invalid-type",Ur="file-too-large",Yr="file-too-small",Qr="too-many-files",et=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:Jr,message:"File type must be ".concat(t)}},er=function(r){return{code:Ur,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},rr=function(r){return{code:Yr,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},rt={code:Qr,message:"Too many files"};function pr(e,r){var t=e.type==="application/x-moz-file"||Kr(e,r);return[t,t?null:et(r)]}function dr(e,r,t){if(N(e.size))if(N(r)&&N(t)){if(e.size>t)return[!1,er(t)];if(e.size<r)return[!1,rr(r)]}else{if(N(r)&&e.size<r)return[!1,rr(r)];if(N(t)&&e.size>t)return[!1,er(t)]}return[!0,null]}function N(e){return e!=null}function tt(e){var r=e.files,t=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,l=e.maxFiles,s=e.validator;return!o&&r.length>1||o&&l>=1&&r.length>l?!1:r.every(function(p){var u=pr(p,t),g=te(u,1),h=g[0],k=dr(p,n,i),M=te(k,1),R=M[0],j=s?s(p):null;return h&&R&&!j})}function he(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ge(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function tr(e){e.preventDefault()}function nt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function ot(e){return e.indexOf("Edge/")!==-1}function it(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return nt(e)||ot(e)}function T(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return r.some(function(s){return!he(n)&&s&&s.apply(void 0,[n].concat(o)),he(n)})}}function at(){return"showOpenFilePicker"in window}function lt(e){if(N(e)){var r=Object.entries(e).filter(function(t){var n=te(t,2),i=n[0],o=n[1],l=!0;return mr(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(o)||!o.every(gr))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,n){var i=te(n,2),o=i[0],l=i[1];return Qe(Qe({},t),{},cr({},o,l))},{});return[{description:"Files",accept:r}]}return e}function st(e){if(N(e))return Object.entries(e).reduce(function(r,t){var n=te(t,2),i=n[0],o=n[1];return[].concat(Ue(r),[i],Ue(o))},[]).filter(function(r){return mr(r)||gr(r)}).join(",")}function ut(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function ct(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function mr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function gr(e){return/^.*\.[\w]+$/.test(e)}var ft=["children"],pt=["open"],dt=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],mt=["refKey","onChange","onClick"];function gt(e){return bt(e)||vt(e)||yr(e)||yt()}function yt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bt(e){if(Array.isArray(e))return ke(e)}function je(e,r){return xt(e)||Dt(e,r)||yr(e,r)||ht()}function ht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yr(e,r){if(e){if(typeof e=="string")return ke(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ke(e,r)}}function ke(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Dt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,l,s;try{for(t=t.call(e);!(i=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));i=!0);}catch(p){o=!0,s=p}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw s}}return n}}function xt(e){if(Array.isArray(e))return e}function nr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?nr(Object(t),!0).forEach(function(n){Me(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Me(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function De(e,r){if(e==null)return{};var t=wt(e,r),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function wt(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}var Le=f.forwardRef(function(e,r){var t=e.children,n=De(e,ft),i=br(n),o=i.open,l=De(i,pt);return f.useImperativeHandle(r,function(){return{open:o}},[o]),Or.createElement(f.Fragment,null,t(y(y({},l),{},{open:o})))});Le.displayName="Dropzone";var vr={disabled:!1,getFilesFromEvent:kr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Le.defaultProps=vr;Le.propTypes={children:d.func,accept:d.objectOf(d.arrayOf(d.string)),multiple:d.bool,preventDropOnDocument:d.bool,noClick:d.bool,noKeyboard:d.bool,noDrag:d.bool,noDragEventsBubbling:d.bool,minSize:d.number,maxSize:d.number,maxFiles:d.number,disabled:d.bool,getFilesFromEvent:d.func,onFileDialogCancel:d.func,onFileDialogOpen:d.func,useFsAccessApi:d.bool,autoFocus:d.bool,onDragEnter:d.func,onDragLeave:d.func,onDragOver:d.func,onDrop:d.func,onDropAccepted:d.func,onDropRejected:d.func,onError:d.func,validator:d.func};var Re={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function br(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=y(y({},vr),e),t=r.accept,n=r.disabled,i=r.getFilesFromEvent,o=r.maxSize,l=r.minSize,s=r.multiple,p=r.maxFiles,u=r.onDragEnter,g=r.onDragLeave,h=r.onDragOver,k=r.onDrop,M=r.onDropAccepted,R=r.onDropRejected,j=r.onFileDialogCancel,q=r.onFileDialogOpen,B=r.useFsAccessApi,ie=r.autoFocus,Y=r.preventDropOnDocument,ae=r.noClick,K=r.noKeyboard,Q=r.noDrag,C=r.noDragEventsBubbling,ee=r.onError,L=r.validator,P=f.useMemo(function(){return st(t)},[t]),$=f.useMemo(function(){return lt(t)},[t]),W=f.useMemo(function(){return typeof q=="function"?q:or},[q]),z=f.useMemo(function(){return typeof j=="function"?j:or},[j]),D=f.useRef(null),E=f.useRef(null),w=f.useReducer(Ft,Re),F=je(w,2),_=F[0],v=F[1],le=_.isFocused,se=_.isFileDialogActive,O=f.useRef(typeof window<"u"&&window.isSecureContext&&B&&at()),H=function(){!O.current&&se&&setTimeout(function(){if(E.current){var c=E.current.files;c.length||(v({type:"closeDialog"}),z())}},300)};f.useEffect(function(){return window.addEventListener("focus",H,!1),function(){window.removeEventListener("focus",H,!1)}},[E,se,z,O]);var I=f.useRef([]),ue=function(c){D.current&&D.current.contains(c.target)||(c.preventDefault(),I.current=[])};f.useEffect(function(){return Y&&(document.addEventListener("dragover",tr,!1),document.addEventListener("drop",ue,!1)),function(){Y&&(document.removeEventListener("dragover",tr),document.removeEventListener("drop",ue))}},[D,Y]),f.useEffect(function(){return!n&&ie&&D.current&&D.current.focus(),function(){}},[D,ie,n]);var V=f.useCallback(function(a){ee?ee(a):console.error(a)},[ee]),ze=f.useCallback(function(a){a.preventDefault(),a.persist(),de(a),I.current=[].concat(gt(I.current),[a.target]),ge(a)&&Promise.resolve(i(a)).then(function(c){if(!(he(a)&&!C)){var b=c.length,x=b>0&&tt({files:c,accept:P,minSize:l,maxSize:o,multiple:s,maxFiles:p,validator:L}),A=b>0&&!x;v({isDragAccept:x,isDragReject:A,isDragActive:!0,type:"setDraggedFiles"}),u&&u(a)}}).catch(function(c){return V(c)})},[i,u,V,C,P,l,o,s,p,L]),Ve=f.useCallback(function(a){a.preventDefault(),a.persist(),de(a);var c=ge(a);if(c&&a.dataTransfer)try{a.dataTransfer.dropEffect="copy"}catch{}return c&&h&&h(a),!1},[h,C]),Ne=f.useCallback(function(a){a.preventDefault(),a.persist(),de(a);var c=I.current.filter(function(x){return D.current&&D.current.contains(x)}),b=c.indexOf(a.target);b!==-1&&c.splice(b,1),I.current=c,!(c.length>0)&&(v({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ge(a)&&g&&g(a))},[D,g,C]),ce=f.useCallback(function(a,c){var b=[],x=[];a.forEach(function(A){var re=pr(A,P),Z=je(re,2),we=Z[0],Fe=Z[1],Ee=dr(A,l,o),me=je(Ee,2),Ae=me[0],Oe=me[1],_e=L?L(A):null;if(we&&Ae&&!_e)b.push(A);else{var Pe=[Fe,Oe];_e&&(Pe=Pe.concat(_e)),x.push({file:A,errors:Pe.filter(function(wr){return wr})})}}),(!s&&b.length>1||s&&p>=1&&b.length>p)&&(b.forEach(function(A){x.push({file:A,errors:[rt]})}),b.splice(0)),v({acceptedFiles:b,fileRejections:x,type:"setFiles"}),k&&k(b,x,c),x.length>0&&R&&R(x,c),b.length>0&&M&&M(b,c)},[v,s,P,l,o,p,k,M,R,L]),fe=f.useCallback(function(a){a.preventDefault(),a.persist(),de(a),I.current=[],ge(a)&&Promise.resolve(i(a)).then(function(c){he(a)&&!C||ce(c,a)}).catch(function(c){return V(c)}),v({type:"reset"})},[i,ce,V,C]),X=f.useCallback(function(){if(O.current){v({type:"openDialog"}),W();var a={multiple:s,types:$};window.showOpenFilePicker(a).then(function(c){return i(c)}).then(function(c){ce(c,null),v({type:"closeDialog"})}).catch(function(c){ut(c)?(z(c),v({type:"closeDialog"})):ct(c)?(O.current=!1,E.current?(E.current.value=null,E.current.click()):V(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):V(c)});return}E.current&&(v({type:"openDialog"}),W(),E.current.value=null,E.current.click())},[v,W,z,B,ce,V,$,s]),qe=f.useCallback(function(a){!D.current||!D.current.isEqualNode(a.target)||(a.key===" "||a.key==="Enter"||a.keyCode===32||a.keyCode===13)&&(a.preventDefault(),X())},[D,X]),Be=f.useCallback(function(){v({type:"focus"})},[]),Ke=f.useCallback(function(){v({type:"blur"})},[]),$e=f.useCallback(function(){ae||(it()?setTimeout(X,0):X())},[ae,X]),G=function(c){return n?null:c},xe=function(c){return K?null:G(c)},pe=function(c){return Q?null:G(c)},de=function(c){C&&c.stopPropagation()},hr=f.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.refKey,b=c===void 0?"ref":c,x=a.role,A=a.onKeyDown,re=a.onFocus,Z=a.onBlur,we=a.onClick,Fe=a.onDragEnter,Ee=a.onDragOver,me=a.onDragLeave,Ae=a.onDrop,Oe=De(a,dt);return y(y(Me({onKeyDown:xe(T(A,qe)),onFocus:xe(T(re,Be)),onBlur:xe(T(Z,Ke)),onClick:G(T(we,$e)),onDragEnter:pe(T(Fe,ze)),onDragOver:pe(T(Ee,Ve)),onDragLeave:pe(T(me,Ne)),onDrop:pe(T(Ae,fe)),role:typeof x=="string"&&x!==""?x:"presentation"},b,D),!n&&!K?{tabIndex:0}:{}),Oe)}},[D,qe,Be,Ke,$e,ze,Ve,Ne,fe,K,Q,n]),Dr=f.useCallback(function(a){a.stopPropagation()},[]),xr=f.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.refKey,b=c===void 0?"ref":c,x=a.onChange,A=a.onClick,re=De(a,mt),Z=Me({accept:P,multiple:s,type:"file",style:{display:"none"},onChange:G(T(x,fe)),onClick:G(T(A,Dr)),tabIndex:-1},b,E);return y(y({},Z),re)}},[E,t,s,fe,n]);return y(y({},_),{},{isFocused:le&&!n,getRootProps:hr,getInputProps:xr,rootRef:D,inputRef:E,open:G(X)})}function Ft(e,r){switch(r.type){case"focus":return y(y({},e),{},{isFocused:!0});case"blur":return y(y({},e),{},{isFocused:!1});case"openDialog":return y(y({},Re),{},{isFileDialogActive:!0});case"closeDialog":return y(y({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return y(y({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return y(y({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return y({},Re);default:return e}}function or(){}const m={PNG:".png",JPEG:".jpeg",JPG:".jpg",BMP:".bmp",GIF:".gif",PDF:".pdf",DOC:".doc",DOCX:".docx",XLS:".xls",XLSX:".xlsx",PPT:".ppt",PPTX:".pptx",TXT:".txt",JSON:".json",XML:".xml",HTML:".html",HTM:".htm",CSV:".csv",MP4:".mp4",MP3:".mp3",MOV:".mov",AVI:".avi"},Ce={"image/png":[m.PNG],"image/jpeg":[m.JPEG,m.JPG],"image/bmp":[m.BMP],"image/gif":[m.GIF],"application/pdf":[m.PDF],"application/msword":[m.DOC,m.DOCX],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[m.DOCX],"application/vnd.ms-excel":[m.XLS,m.XLSX],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[m.XLSX],"application/vnd.ms-powerpoint":[m.PPT,m.PPTX],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[m.PPTX],"text/plain":[m.TXT],"application/json":[m.JSON],"application/xml":[m.XML],"text/html":[m.HTML,m.HTM],"text/csv":[m.CSV],"video/mp4":[m.MP4],"audio/mpeg":[m.MP3],"video/quicktime":[m.MOV],"video/x-msvideo":[m.AVI]},Et=e=>new Promise(r=>{const t=new FileReader;t.onload=function(n){const i=n.target.result;return r([e,i])},t.readAsBinaryString(e)}),At=e=>{if(!e.length)return Ce;const r={};for(const t of e)for(const n in Ce)Ce[n].includes(t)&&(r[n]||(r[n]=[]),r[n]=[...r[n],t]);return r},Ot=e=>{const r=/\{\{([^}]+)\}\}/g,t=[];let n=0;const i=[];let o;for(;(o=r.exec(e))!==null;){const s=e.substring(n,o.index);s.trim()!==""&&t.push(s.trim());const p=o[1];t.push(p.trim()),i.push((t==null?void 0:t.length)-1),n=o.index+o[0].length}const l=e.substring(n);return l.trim()!==""&&t.push(l.trim()),{result:t,matchIndicies:i}},_t=Er(ve,{shouldForwardProp:_r(["isDragActive","fullWidth","height","width","noClick"]),slot:"root"})(e=>{var p,u;const{isDragActive:r,fullWidth:t,height:n,width:i,noClick:o,disabled:l,theme:s}=e;return{border:"1px dashed",borderColor:s.palette.revolver.light,height:We(n),width:t?"100%":We(i),display:"flex",alignItems:"center",justifyContent:"center",...!l&&{...r&&{backgroundColor:(p=s.palette.revolver)==null?void 0:p["5"],opacity:.5},"&:hover":{backgroundColor:o?"initial":(u=s.palette.revolver)==null?void 0:u["5"],cursor:o?"default":"pointer"}}}}),ne=({id:e,className:r,sx:t,accept:n,onDrop:i,validator:o,onError:l,disabled:s,maxFiles:p,minSize:u,maxSize:g,noClick:h,noDrag:k,noKeyboard:M,noDragEventsBubbling:R,renderContent:j,text:q,subText:B,width:ie,height:Y,fullWidth:ae})=>{const[K,Q]=f.useState([]),C=f.useCallback((w,F)=>{if(F&&(F!=null&&F.length)){l&&l(F);return}const _=[],v=[],le=[],se=Math.min(w.length,p);for(let O=0;O<se;O++){const H=w[O];le.push(Et(H))}Promise.all(le).then(O=>{O.forEach(H=>{const[I,ue]=H;_.push(I),v.push(ue)}),Q(_),i&&i(_,v)}).catch(O=>{console.error(O)})},[i,Q,p,l]),{getRootProps:ee,getInputProps:L,open:P,isDragActive:$,isFocused:W}=br({accept:At(n||[]),onDrop:C,validator:o,disabled:s,maxFiles:p,minSize:u,maxSize:g,multiple:p!==1,noClick:h,noDrag:k,noKeyboard:M,noDragEventsBubbling:R}),z=f.useCallback(()=>{const{result:w,matchIndicies:F}=Ot(q);return S.jsx(Te,{className:"FileDropZone__text",variant:"bodyS",color:"text.secondary",fontWeight:jr.bold,children:w.map((_,v)=>F!=null&&F.includes(v)?S.jsxs(Te,{variant:"bodyS",color:"primary",sx:{cursor:"pointer"},onClick:P,component:"a",children:[_,v===w.length-1?"":" "]},v):v===w.length-1?_:`${_} `)})},[q,P]),D=f.useCallback(()=>{const w=[];return u&&w.push(`Min ${He(u)}mb`),g&&w.push(`Max ${He(g)}mb`),S.jsx(Te,{className:"FileDropZone__subText",variant:"bodyXS",color:"charcoal.50",children:B!==void 0?B:w==null?void 0:w.join(" | ")})},[B,u,g]),E=f.useCallback(()=>j?j({open:P,isDragActive:$,isFocused:W,files:K}):S.jsxs(ve,{className:"FileDropZone__content",sx:{opacity:s?.5:1,pointerEvents:s?"none":"auto",display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:[S.jsx(ve,{className:"FileDropZone__icon",sx:{color:w=>{var F;return(F=w.palette.revolver)==null?void 0:F["60"]}},children:S.jsx(Pr,{icon:Tr.FileUpload,color:"inherit",height:"48.06px",width:"65.75px"})}),S.jsxs(ve,{className:"FileDropZone__content-container",display:"flex",flexDirection:"column",children:[z(),D()]})]}),[j,P,$,W,K,s,z,D]);return S.jsxs(_t,{id:e,className:Ar("FileDropZone",{[r]:r}),"data-testid":"FileDropZone",isDragActive:$,fullWidth:ae,height:Y,width:ie,noClick:h,disabled:s,sx:t,...ee(),children:[S.jsx("input",{...L()}),E()]})};ne.defaultProps={maxFiles:1,accept:[...Object.values(m)],noClick:!1,noDrag:!1,noKeyboard:!1,noDragEventsBubbling:!1,disabled:!1,minSize:0,maxSize:20971520,text:"Drag and drop or {{Browse Files}}",subText:void 0,width:500,height:160};try{ne.displayName="FileDropZone",ne.__docgenInfo={description:"",displayName:"FileDropZone",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:"(files: File[], binaryStrings: string[]) => void"}},accept:{defaultValue:null,description:"",name:"accept",required:!1,type:{name:"FileType[]"}},maxFiles:{defaultValue:null,description:"",name:"maxFiles",required:!1,type:{name:"number"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(err: FileRejection[]) => void"}},minSize:{defaultValue:null,description:"The minimum file size in bytes",name:"minSize",required:!1,type:{name:"number"}},maxSize:{defaultValue:null,description:"The maximum file size in bytes, defaults to 20MB",name:"maxSize",required:!1,type:{name:"number"}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"<T extends File>(file: T) => FileError | FileError[]"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},noClick:{defaultValue:null,description:"If true, disables click to open the native file selection dialog",name:"noClick",required:!1,type:{name:"boolean"}},noKeyboard:{defaultValue:null,description:"If true, disables SPACE/ENTER to open the native file selection dialog. Note that it also stops tracking the focus state.",name:"noKeyboard",required:!1,type:{name:"boolean"}},noDrag:{defaultValue:null,description:"If true, disables drag 'n' drop",name:"noDrag",required:!1,type:{name:"boolean"}},noDragEventsBubbling:{defaultValue:null,description:"If true, stops drag event propagation to parents",name:"noDragEventsBubbling",required:!1,type:{name:"boolean"}},renderContent:{defaultValue:null,description:"",name:"renderContent",required:!1,type:{name:"({ open, isDragActive, isFocused, files, }: Partial<DropzoneState> & { files: File[]; }) => Element"}},text:{defaultValue:null,description:`The text to display. Wrap the link in double curly braces to extract the text.
Example: "Click {{here}} to upload a file"`,name:"text",required:!1,type:{name:"string"}},subText:{defaultValue:null,description:"",name:"subText",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string | number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string | number"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}}}}}catch{}const $t={title:"Example/FileDropZone",component:ne,parameters:{layout:"centered",docs:{source:{transform:Fr("FileDropZone")}}},tags:["autodocs"],argTypes:{onDrop:{action:"onDrop"},onError:{action:"onError"}}},ye={args:{...ne.defaultProps}};var ir,ar,lr;ye.parameters={...ye.parameters,docs:{...(ir=ye.parameters)==null?void 0:ir.docs,source:{originalSource:`{
  args: {
    ...FileDropZone.defaultProps
  }
}`,...(lr=(ar=ye.parameters)==null?void 0:ar.docs)==null?void 0:lr.source}}};const Wt=["Default"];export{ye as Default,Wt as __namedExportsOrder,$t as default};
