import{s as M}from"./index-B_pG5fU1.js";import{j as r}from"./jsx-runtime-Du8NFWEI.js";import{r as n}from"./index-Dl6G-zuu.js";import{j as D,S as z,P as F,B as k}from"./Button-Btkti2ub.js";import{a as I,I as A,u as H}from"./Icon.types-U26PnCQi.js";import{b as L}from"./Typography-BGHga1vv.js";import"./ThemeWrapper-N0E1R_KB.js";import"./Avatar-BEyL2C51.js";import"./Checkbox-DbV7KlYF.js";import"./Chip-uXsiEyNA.js";import"./Grid-BaUdJumI.js";import"./DateField-BQPUUmT9.js";import"./DateRangeField-BuMowq3e.js";import{I as $}from"./Input-NqupgsPx.js";import"./TextArea-CbxHYNMj.js";import"./RadioButton.types-DoDJgX9A.js";import"./Tooltip-Bs3mXacK.js";import{T as B}from"./Typography-ClegP6xv.js";import{B as j}from"./Box-DPTDcbim.js";import{S as G}from"./Stack-B_sc2yyH.js";import"./index-DFf-bhEl.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-Bpxk95mn.js";import"./createTheme-DtgTEXL7.js";import"./useOnHover-DcG81d-b.js";import"./testIds-Bl6124vV.js";import"./index-rkLCEK4n.js";import"./useEnhancedEffect-DZnfS5Iy.js";import"./DatePicker-rGcrDtM7.js";import"./index-Beu9b4Vr.js";import"./Typography-C8COxrag.js";import"./createSvgIcon-B9tpKWAV.js";import"./TransitionGroupContext-HZ0X4aoe.js";import"./ButtonBase-CdxKgBBF.js";import"./assertThisInitialized-B9jnkVVz.js";import"./inheritsLoose-B7h9gheN.js";import"./useCommonOnChangeHandler-D4PAKB6v.js";import"./useFormControl-EHw8eS4L.js";import"./Paper-CXsvuMT9.js";import"./index-CpmRWZ9e.js";import"./GlobalStyles-BkdV5ugX.js";import"./palette-CiKahY_l.js";import"./index-D1_ZHIBm.js";import"./FormControlLabel-BLlKfmfO.js";import"./styled-DlwMyq9x.js";const P=[{label:"Equal to",value:"Equal to"},{label:"More than",value:"More than"},{label:"Less than",value:"Less than"},{label:"Between",value:"Between"}],U=({value:t,onSubmit:m,onCancel:f})=>{var q;const h=H(),[a,V]=n.useState((t==null?void 0:t[0])||((q=P==null?void 0:P[0])==null?void 0:q.value)),[o,g]=n.useState((t==null?void 0:t[1])||null),[l,p]=n.useState((t==null?void 0:t[2])||null),c=n.useRef((t==null?void 0:t[1])||null),d=n.useRef((t==null?void 0:t[2])||null);n.useEffect(()=>{if(t&&t.length){const[e,i,y]=t;V(e),g(i),c.current=i,e==="Between"&&(p(y),d.current=y)}},[t]),n.useEffect(()=>{a&&(a==="Between"?d.current===null&&(p(c.current),d.current=c.current):(p(null),d.current=null))},[a]);const u=n.useCallback(()=>{const e=[a];e.push(o),a==="Between"&&e.push(l),m&&m(e)},[a,o,l,m]),x=n.useCallback(()=>{f&&f()},[f]),C=n.useMemo(()=>a==="Between"?(o||o===0)&&(l||l===0)&&a:(o||o===0)&&a,[a,o,l]);return r.jsxs(j,{sx:{width:"239px",background:"white",borderRadius:`${h.shape.borderRadius}px`,border:`${h.shape.borderWidth} solid ${h.palette.border.main}`,p:1},children:[r.jsx(B,{variant:"bodyS",fontWeight:L.bold,children:"Percent Complete"}),r.jsxs(j,{sx:{mt:2,width:"100%",display:"flex",alignItems:"center",flexWrap:"wrap",gap:"8px",".item":{flexGrow:0,width:"calc(50% - 4px)",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"1.5em",...a==="Between"&&{width:"100%"}}},children:[r.jsx(j,{className:"item",children:r.jsx(z,{autoFocus:!0,fullWidth:!0,defaultActiveFirstOption:!0,sx:{".MuiSelect-select":{paddingLeft:"8px"}},renderValue:e=>r.jsx(B,{variant:"bodyS",children:e}),allowDeselect:!1,value:a,disablePortal:!0,onChange:V,options:P},a)}),r.jsxs(j,{className:"item",sx:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(F,{value:o,fullWidth:!0,onChange:e=>{c.current=e==null?void 0:e.floatValue,g(e==null?void 0:e.floatValue)}}),a==="Between"&&r.jsxs(r.Fragment,{children:[r.jsx(I,{icon:"ArrowRight",size:16,sx:{flexShrink:0}}),r.jsx(F,{value:l,fullWidth:!0,onChange:e=>{d.current=e==null?void 0:e.floatValue,p(e==null?void 0:e.floatValue)}})]})]})]}),r.jsxs(G,{direction:"row",justifyContent:"space-between",sx:{mt:2},children:[r.jsx(k,{variant:"link",color:"danger",onClick:x,children:"Clear"}),r.jsx(k,{variant:"link",onClick:u,disabled:!C,children:"Apply"})]})]})},b=({id:t,className:m,sx:f,label:h,placeholder:a,helperText:V,required:o,labelPosition:g="top",disabled:l,tooltip:p,variant:c,fullWidth:d,onChange:u,renderValue:x})=>{const[C,q]=n.useState(null),[e,i]=n.useState(!1),[y,w]=n.useState([]),_=n.useCallback(s=>{w(s),i(!1),u&&u(s)},[w,i,u]),N=n.useCallback(()=>{w([]),i(!1),u&&u([])},[w,i,u]),W=n.useCallback(()=>{l||i(!0)},[l,i]),O=n.useCallback(s=>x?x(s):(s==null?void 0:s.join(" "))||"",[x]);return r.jsxs(r.Fragment,{children:[r.jsx($,{id:t,onClick:W,inputRef:s=>q(s),className:m,label:h,placeholder:a,disabled:l,helperText:V,required:o,value:O(y),fullWidth:d,labelPosition:g,tooltip:p,variant:c,readOnly:!0,sx:{...f,cursor:l?"default":"pointer",".MuiInputBase-root, input":{cursor:l?"default":"pointer"}},endAdornment:r.jsx(I,{icon:e?A.NavArrowUp:A.NavArrowDown,size:20,sx:{cursor:l?"default":"pointer"}})}),r.jsx(D,{open:e,anchorEl:C,onClose:()=>i(!1),children:r.jsx(U,{value:y,onSubmit:_,onCancel:N})})]})};b.defaultProps={};try{b.displayName="PercentFilter",b.__docgenInfo={description:"",displayName:"PercentFilter",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"Style props for the container",name:"sx",required:!1,type:{name:"SxProps"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(value: any) => void"}},renderValue:{defaultValue:null,description:"",name:"renderValue",required:!1,type:{name:"(value: any) => string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"outlined"'},{value:'"standard"'},{value:'"table"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(e: any) => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},labelPosition:{defaultValue:{value:"top"},description:"",name:"labelPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"left"'}]}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"warning"'},{value:'"error"'},{value:'"success"'}]}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string"}},TooltipProps:{defaultValue:null,description:"",name:"TooltipProps",required:!1,type:{name:"TooltipProps"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},startAdornment:{defaultValue:null,description:"",name:"startAdornment",required:!1,type:{name:"ReactNode"}},endAdornment:{defaultValue:null,description:"",name:"endAdornment",required:!1,type:{name:"ReactNode"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(e: any) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(e: any) => void"}},debounce:{defaultValue:null,description:"",name:"debounce",required:!1,type:{name:"number"}},persistEndAdornment:{defaultValue:null,description:"In the case that a staus is provided, the endAdornment will be hidden.\nSetting `persistEndAdornment` to true will keep the endAdornment visible beside the status icon.",name:"persistEndAdornment",required:!1,type:{name:"boolean"}}}}}catch{}const We={title:"Example/PercentFilter",component:b,parameters:{layout:"centered",docs:{source:{transform:M("PercentFilter")}}},tags:["autodocs"],argTypes:{onChange:{action:"onChange"}}},S={args:{...b.defaultProps,label:"Percent Filter",placeholder:"Select a percent",helperText:"Helper text"}};var E,R,T;S.parameters={...S.parameters,docs:{...(E=S.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    ...PercentFilter.defaultProps,
    label: "Percent Filter",
    placeholder: "Select a percent",
    helperText: "Helper text"
  }
}`,...(T=(R=S.parameters)==null?void 0:R.docs)==null?void 0:T.source}}};const Oe=["Default"];export{S as Default,Oe as __namedExportsOrder,We as default};
